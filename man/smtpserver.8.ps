%!PS-Adobe-3.0
%%Creator: groff version 1.16
%%CreationDate: Thu Nov 23 20:17:38 2000
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.16 0
%%Pages: 13
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.16 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10.95/Times-Bold@0 SF -.219(NA)72 84 S(ME).219 E F0
(smtpserv)108 96 Q(er \255 zmailer SMTP serv)-.15 E(er)-.15 E F1
(SYNOPSIS)72 112.8 Q/F2 10/Times-Bold@0 SF(smtpser)108 124.8 Q -.1(ve)
-.1 G(r).1 E F0([)2.659 E F2(\25546aBigntVvw)2.659 E F0 2.659(][)2.659 G
F2<ad70>A/F3 10/Times-Italic@0 SF(port)2.659 E F0 2.659(][)2.659 G F2
<ad6c>A F3(SYSLOG)2.659 E F0 2.658(][)2.658 G F2<ad6c>A F3(lo)2.658 E
(g\214le)-.1 E F0 2.658(][)2.658 G F2<ad73>A F0([)A F2(ftv)A(eR)-.1 E F0
2.658(]][)C F2 .158(\255s strict)B F0 2.658(][)2.658 G F2<ad49>A F3
(pid\214le)2.658 E F0 2.5(][)108 136.8 S F2<ad4c>A F3(maxloadaver)2.5 E
F0 2.5(][)2.5 G F2<ad4d>A F3(SMTPmaxsize)2.5 E F0 2.5(][)2.5 G F2<ad50>A
F3(postof)2.5 E(\214ce)-.18 E F0 2.5(][)2.5 G F2<ad52>A F3 -.45(ro)2.5 G
(uter).45 E F0 2.5(][)2.5 G F2<ad43>A F3(cfg\214le)2.5 E F0 2.5(][)2.5 G
F2(\255T '[1.2.3.4]')A F0(])2.5 E F1(DESCRIPTION)72 153.6 Q F0 .481
(This program implements the serv)108 165.6 R .482
(er side of the SMTP protocol as described in RFC821, and kno)-.15 F
.482(ws about)-.25 F(the common e)108 177.6 Q
(xtensions to the protocol e)-.15 E
(xpected by Sendmail and BSMTP clients.)-.15 E .662(By def)108 194.4 R
.662(ault the program will kill the pre)-.1 F(vious)-.25 E F3
(smtpserver)3.162 E F0 .662(daemon, if an)3.162 F 1.962 -.65(y, t)-.15 H
.661(hen detach and listen for SMTP).65 F 5.442(connections. Incoming)
108 206.4 R 2.942(messages will be submitted for processing using the)
5.442 F F3(zmailer)5.443 E F0 2.943(\(3\) interf).73 F 2.943(ace to)-.1
F(ZMailer)108 218.4 Q 5.128(.N)-.55 G(ontri)-5.128 E .127
(vial address checking is done asynchronously)-.25 F 2.627(,a)-.65 G
.127(lthough this beha)-2.627 F .127(viour can be changed by a)-.2 F
.633(command line option if you cannot af)108 230.4 R .633
(ford to transfer data just to bounce it back.)-.25 F .634
(All checking is done by)5.633 F -.15(exe)108 242.4 S .396(cuting the)
.15 F F3 -.45(ro)2.896 G(uter).45 E F0 .396(\(8\) program in interacti)
.73 F .696 -.15(ve m)-.25 H .396(ode, and e).15 F -.15(xe)-.15 G .396
(cuting a well-kno).15 F .395(wn shell function with well-)-.25 F(kno)
108 254.4 Q(wn parameters for each request.)-.25 E F1(OPTIONS)72 271.2 Q
F0 22.86(\2554 Explicitely)108 283.2 R .199(to use IPv4 type of sock)
2.699 F .199(et e)-.1 F -.15(ve)-.25 G 2.699(no).15 G 2.699(nm)-2.699 G
.2(achines that is capable to do IPv6 type of sock)-2.699 F(ets.)-.1 E
22.86(\2556 Explicitely)108 300 R 1.668
(to \(try to\) use IPv6 type of sock)4.168 F 1.668(et e)-.1 F -.15(ve)
-.25 G 4.168(ni).15 G 4.168(ft)-4.168 G 1.668
(he machine does not support it.)-4.168 F -.15(Fo)6.667 G 4.167(ra).15 G
(def)144 312 Q .616(ault the serv)-.1 F .616
(er will try to use IPv6, if it has been compiled on an en)-.15 F .617
(vironment where it is pre-)-.4 F(sent, b)144 324 Q(ut will do a f)-.2 E
(allback to IPv4 in case the runtime system does not ha)-.1 E .3 -.15
(ve I)-.2 H(Pv6.).15 E 23.42(\255a turn)108 340.8 R .29(on RFC931/RFC14\
13 indenti\214cation protocol, and log the information acquired with it\
 to the)2.79 F(submitted \214le.)144 352.8 Q 20.64(\255w turn)108 369.6
R(on usage of "whoson" protocol.)2.5 E(This option is a)5 E -.25(va)-.2
G(ilable e).25 E -.15(ve)-.25 G 2.5(ni).15 G 2.5(fa)-2.5 G
(ctual code is not a)-2.5 E -.25(va)-.2 G(ilable.).25 E 22.86(\255g the)
108 386.4 R 1.03(gullible option will mak)3.53 F 3.53(et)-.1 G 1.03
(he program belie)-3.53 F 1.33 -.15(ve a)-.25 H 1.33 -.15(ny i).15 H
1.03(nformation it is told \(such as origin of a).15 F
(connection\) without checking.)144 398.4 Q 25.08(\255i runs)108 415.2 R
2.661(the serv)5.161 F 2.661(er interacti)-.15 F -.15(ve)-.25 G(ly).15 E
5.161(,w)-.65 G 2.661(hich mak)-5.161 F 2.661
(es it usable for processing a batched SMTP stream)-.1 F 1.215
(\(BSMTP\) on stdin.)144 427.2 R -.4(Wi)6.215 G(th).4 E F3<ad76>3.715 E
F0 1.215(option this echoes incoming BSMTP to create more accurate f)
3.715 F(ax-)-.1 E(imille of BITNET BSMTP mailers.)144 439.2 Q<ad6c>108
456 Q F3(SYSLOG)2.5 E F0 3.586(Am)144 468 S 1.086(agic v)-3.586 F 1.086
(alue of "SYSLOG" for the)-.25 F F3(lo)3.586 E(g\214le)-.1 E F0 1.085
(is interpreted by directing all session log stuf)3.586 F 3.585(ft)-.25
G(hru)-3.585 E .511(syslogd; something which)144 480 R F2(may)3.011 E F0
.511(require better syslogd, than your system has by def)3.011 F .512
(ault; see `)-.1 F(`sys-)-.74 E(log-ng')144 492 Q 2.5('a)-.74 G 2.5(taw)
-2.5 G(ell inde)-2.5 E -.15(xe)-.15 G 2.5(df).15 G(ree softw)-2.5 E
(are sites.)-.1 E<ad6c>108 508.8 Q F3(lo)2.5 E(g\214le)-.1 E F0 .756
(speci\214es a log\214le and enables recording of incoming SMTP con)144
520.8 R -.15(ve)-.4 G 3.256(rsations. If).15 F .755(you w)3.255 F .755
(ant both \214le)-.1 F
(based session log, and syslog\(\) based, issue this option after `)144
532.8 Q(`\255l SYSLOG')-.74 E 2.5('o)-.74 G(ne.)-2.5 E 22.86
(\255n indicates)108 549.6 R(the program is being run from)2.5 E F3
(inetd)2.5 E F0(\(8\).).77 E 22.86(\255p speci\214es)108 566.4 R
(the TCP port to listen on instead of the def)2.5 E(ault SMTP port, 25.)
-.1 E 21.19(\255B \215ags)108 583.2 R(the email to arri)2.5 E .3 -.15
(ve v)-.25 H(ia BSMTP channel \(via BITNET).15 E 2.5(,f)-.74 G(or e)-2.5
E(xample\).)-.15 E<ad49>108 600 Q F3(pid\214le)2.5 E F0
(speci\214es an alternate PID \214le location.)144 612 Q<ad4c>108 628.8
Q F3(maxloadaver)2.5 E F0(tells the maximum load-a)144 640.8 Q -.15(ve)
-.2 G(rage the system is under when we still accept email in.).15 E
<ad4d>108 657.6 Q F3(SMTPmaxsize)2.5 E F0 1.477
(De\214nes the asolute maximum size we accept from incoming email.)144
669.6 R(\(Def)6.477 E 1.477(ault: in\214nite\) \(This is)-.1 F
(local polic)144 681.6 Q 2.5(yi)-.15 G(ssue.\))-2.5 E<ad50>108 698.4 Q
F3(postof)2.5 E(\214ce)-.18 E F0(speci\214es an alternate)144 710.4 Q F2
(POST)2.5 E(OFFICE)-.18 E F0(directory)2.5 E(.)-.65 E(13 Oct 2000)281.28
768 Q(1)204.28 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E<ad52>108 84 Q/F1 10/Times-Italic@0 SF -.45(ro)2.5 G
(uter).45 E F0(speci\214es an alternate)144 96 Q F1 -.45(ro)2.5 G
(uter \(8\)).45 E F0(program to use for address v)2.5 E(eri\214cation.)
-.15 E<ad43>108 112.8 Q F1(cfg\214le)2.5 E F0
(speci\214es nonstandard con\214guration \214le location; the def)144
124.8 Q(ault is)-.1 E F1($MAILSHARE/smtpserver)2.5 E(.conf)-1.11 E F0(.)
1.96 E(\255s strict)108 141.6 Q 1.82(this turns on all kinds of)144
153.6 R/F2 10/Times-Bold@0 SF(strict)4.32 E F0 1.82
(smtp protocol adherence checks, which in normal life can be)4.32 F
(relax)144 165.6 Q(ed slightly)-.15 E 5(.G)-.65 G
(reat for compliance testing ;\))-5 E(\255s [ftv)108 182.4 Q(eRS])-.15 E
.458(speci\214es the style of address v)144 194.4 R .458
(eri\214cation to be performed.)-.15 F .459
(There are four independent commands)5.459 F .95(that can in)144 206.4 R
-.2(vo)-.4 G 1.15 -.1(ke s).2 H .95(ome kind of address v).1 F .95
(eri\214cation, and four independent \215ags to control whether)-.15 F
(this should be done.)144 218.4 Q(The)5 E 2.5(ya)-.15 G(re:)-2.5 E 68.67
(fc)144 242.4 S(heck MAIL FR)-68.67 E(OM addresses)-.4 E 69.22(tc)144
254.4 S(heck RCPT T)-69.22 E 2.5(Oa)-.18 G(ddresses)-2.5 E 67(vc)144
266.4 S(heck VRFY command ar)-67 E(gument)-.18 E 67.56(ec)144 278.4 S
(heck EXPN command ar)-67.56 E(gument)-.18 E 65.33(Rr)144 290.4 S
(equire addresses to be of syntax:)-65.33 E(local@remote \(strict 821\))
252 302.4 Q 66.44(Sa)144 314.4 S(llo)-66.44 E 2.5(ws)-.25 G(lopp)-2.5 E
2.5(yi)-.1 G(nput for systems incapable to)-2.5 E
(respect RFC 821 properly; W)216 326.4 Q(inCE1.0 \(and 2.0\))-.4 E
(does:)216 338.4 Q("MAIL FR)252 350.4 Q(OM:user@domain" :-\()-.4 E
(The \215ags are concatenated to form the ar)144 374.4 Q
(gument to the \255s option.)-.18 E(The def)5 E(ault is)-.1 E F2 -.1(ve)
2.5 G F0(.).1 E(\255T '[1.2.3.4]')108 391.2 Q
(\255T '[ipv6.hhhh:hhhh:hhhh:hhhh:hhhh:hhhh:1.2.3.4]')108 408 Q .486
(Supply \(in interacti)144 420 R .787 -.15(ve m)-.25 H .487
(ode\) test address for polic).15 F 2.987(yd)-.15 G .487
(ataset address testing.)-2.987 F .487(The optionset recom-)5.487 F
(mended for that case is:)144 432 Q(-i -d 1 -T '[1.2.3.4]')154 456 Q
3.761(An)144 480 S 1.261
(otable detail is that to see what really is going on in the polic)
-3.761 F 3.76(ya)-.15 G 1.26(nalysis, one must usei the)-3.76 F -.74(``)
144 492 S(-d 1').74 E 4.4('o)-.74 G 1.9(ption to turn on the deb)-4.4 F
1.901(ugging early enough to see its initial v)-.2 F 1.901
(erdict at the time the)-.15 F -.74(``)144 504 S(220..).74 E 1.48 -.74
('' g)-.7 H(reeting banner is produced..).74 E .497
(Also notable is that)144 528 R F2(brack)2.997 E(ets)-.1 E F0 .497
(in the supplied IP address)2.997 F F2(must)2.997 E F0 .496
(be present, otherwise ille)2.996 F -.05(ga)-.15 G 2.996(ls).05 G(yntax)
-2.996 E(will be reported.)144 540 Q
(\(Using RFC 821 address literal parser here.\))5 E 25.08(\255t Set)108
556.8 R .215(when running smtpserv)2.715 F .216
(er under e.g. inetd, and using service port number 465; a "well-kno)
-.15 F(wn")-.25 E(deprecated one of SSL/SMTP; \(From the era before `)
144 568.8 Q(`ST)-.74 E(AR)-.93 E(TTLS')-.6 E 2.5('p)-.74 G(rotocol v)
-2.5 E(erb)-.15 E(.\))-.4 E 20.64(\255V prints)108 585.6 R 2.5(av)2.5 G
(ersion message and e)-2.65 E(xits.)-.15 E/F3 10.95/Times-Bold@0 SF
(CONFIGURA)72 602.4 Q(TION)-1.04 E F0(If the)108 614.4 Q F1(IMAILSHARE/)
2.5 E F2(Bsmtpser)1.58 E -.1(ve)-.1 G -1(r.).1 G(conf)1 E F0 -.15(ex)2.5
G(ists it is read to con\214gure tw).15 E 2.5(ok)-.1 G(inds of things:)
-2.5 E -.92(PA)108 643.2 S(RAM \255entries).92 E(allo)144 655.2 Q 2.5
(ws)-.25 G(erv)-2.5 E(er start-time parametrization of se)-.15 E -.15
(ve)-.25 G(ral things, including:).15 E F1 2.5<ad68>144 667.2 S(elp-te)
-2.5 E(xts)-.2 E 2.5<ad61>144 679.2 S(cceptance/r)-2.5 E
(ejection database de\214nitions)-.37 E 2.5<ad76>144 691.2 S
(arious featur)-2.5 E 2.5(ep)-.37 G(ar)-2.5 E(ametrizations)-.15 E F0
.107(On P)144 703.2 R .106(ARAM lines the system allo)-.92 F .106
(ws $-e)-.25 F .106(xpansions of ZENV v)-.15 F 2.606
(ariables. \(Special)-.25 F .106(note: '$$' e)2.606 F(xpands)-.15 E
(as '$', not shell-style process-id number!\))144 715.2 Q(13 Oct 2000)
281.28 768 Q(2)204.28 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E(The style \()108 84 Q/F1 10/Times-Italic@0 SF<ad73>A F0
2.5(\)o)C(ption)-2.5 E(beha)144 96 Q 1.62
(viour based on glob patterns matching the)-.2 F/F2 10/Times-Bold@0 SF
(HELO)4.121 E F0(/)A F2(EHLO)A F0 1.621(name gi)4.121 F -.15(ve)-.25 G
4.121(nb).15 G 4.121(yar)-4.121 G 1.621(emote client.)-4.121 F .638
(Lines be)144 108 R .638(ginning with a)-.15 F F1(#)3.138 E F0 .637(or \
whitespace are ignored in the \214le, and all other lines must consist \
of)3.137 F(tw)144 120 Q 4.093(ot)-.1 G(ok)-4.093 E 1.593
(ens: a shell-style \(glob\) pattern starting at the be)-.1 F 1.594
(ginning of the line, whitespace, and a)-.15 F .749
(sequence of style \215ags.)144 132 R .748
(The \214rst matching line is used.)5.749 F .748
(As a special case, the \215ags section may)5.748 F .853(start with a)
144 144 R F1(!)3.353 E F0 .853
(character in which case the remainder of the line is a f)5.853 F .854
(ailure comment message to)-.1 F .182(print at the client.)144 156 R
.181(This con\214guration capability is intended as a w)5.182 F .181
(ay to control misbeha)-.1 F .181(ving client)-.2 F(softw)144 168 Q
(are or mailers.)-.1 E -.92(PA)108 196.8 S(RAM maxsize).92 E
(This is synon)144 208.8 Q(ym to start-time)-.15 E F1<ad4d>2.5 E F0
(option.)2.5 E -.92(PA)108 237.6 S(RAM min\255a).92 E -.25(va)-.2 G
(ilspace 5000).25 E 1.804(This de\214nes, in)144 249.6 R F2(kilobytes)
4.304 E F0 4.304(,t)C 1.804(he minimum a)-4.304 F -.25(va)-.2 G 1.804
(ilable space in).25 F F2(POST)4.304 E(OFFICE)-.18 E F0 1.805
(directory after the)4.304 F(message has been accepted in.)144 261.6 Q
-.92(PA)108 290.4 S(RAM max\255error\255recipients).92 E 3.558
(This de\214nes ho)144 302.4 R 6.057(wm)-.25 G(an)-6.057 E 6.057(yr)-.15
G 3.557(ecipients can be on a message whose source address is)-6.057 F
F2(MAIL)6.057 E(FR)144 314.4 Q(OM:<>)-.3 E F0 5(.T)C
(hat is, is an error message.)-5 E(\(Sometimes SP)5 E
(AMs are tried to inject in that form...\))-.92 E -.92(PA)108 343.2 S
(RAM MaxSameIpSource).92 E(This sets the maximum number of acti)144
355.2 Q .3 -.15(ve c)-.25 H(onnections from an).15 E 2.5(yg)-.15 G -2.15
-.25(iv e)-2.5 H 2.5(ns).25 G(ingle IP address.)-2.5 E 1.037
(When the limit is reached, system tells the remote end:)144 379.2 R F2
-.63(``)3.537 G 1.037(450 T).63 F 1.038(oo many simultaneous connec-)
-.92 F(tions...)144 391.2 Q -.63('')-.55 G F0
(\(and then closes the connection.\))5.63 E .585(When the limit is e)144
415.2 R .585(xceeded by f)-.15 F .585(actor of four)-.1 F 3.085(,t)-.4 G
.585(he serv)-3.085 F .585
(er just closes the connection without telling)-.15 F(an)144 427.2 Q
(ything.)-.15 E F2 .868(Do note that this w)144 451.2 R .868
(orks only when the smtpser)-.1 F -.1(ve)-.1 G 3.368(ri).1 G 3.368(sr)
-3.368 G .868(unning as its o)-3.368 F .869(wn daemon, not while)-.1 F
(run fr)144 463.2 Q(om under inetd!)-.18 E F0 -.92(PA)108 492 S
(RAM MaxP).92 E(arallelConnections)-.15 E 1.003(This limits ho)144 504 R
3.503(wm)-.25 G(an)-3.503 E 3.503(ys)-.15 G 1.003
(imultaneous connections the serv)-3.503 F 1.002
(er will accept in total -- e.g. ho)-.15 F 3.502(wm)-.25 G(an)-3.502 E
(y)-.15 E(childs a master serv)144 516 Q(er can ha)-.15 E .3 -.15(ve r)
-.2 H 2.5(unning. Def).15 F(ault v)-.1 E(alue: 800.)-.25 E .819
(Exceeding the limit by less than 100 will get a message)144 540 R F2
-.63(``)3.32 G .82(450 T).63 F .82(oo many simultaneous connec-)-.92 F
(tions...)144 552 Q -.63('')-.55 G F0 .492(printed to the connection.)
6.122 F .491(In e)5.492 F -.15(ve)-.25 G .491
(ry case the connection is closed right after the possible).15 F
(message.)144 564 Q F2 .868(Do note that this w)144 588 R .868
(orks only when the smtpser)-.1 F -.1(ve)-.1 G 3.368(ri).1 G 3.368(sr)
-3.368 G .868(unning as its o)-3.368 F .869(wn daemon, not while)-.1 F
(run fr)144 600 Q(om under inetd!)-.18 E F0 -.92(PA)108 628.8 S
(RAM ListenQueueSize).92 E
(This sets the listen queue size parameter for)144 640.8 Q F1(listen)2.5
E F0(\(2\) call at the serv).24 E(er)-.15 E(.)-.55 E -.92(PA)108 669.6 S
(RAM TcpRcvBuf).92 E(ferSize)-.25 E(This sets)144 681.6 Q(setsock)5 E
(opt\(SO_RCVB)-.1 E 2.5(UF\) v)-.1 F(alue, in case the system def)-.25 E
(ault is not suitable.)-.1 E(13 Oct 2000)281.28 768 Q(3)204.28 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E -.92(PA)108 84 S(RAM TcpXmitBuf).92 E(ferSize)-.25 E
(This sets)144 96 Q(setsock)5 E(opt\(SO_SNDB)-.1 E 2.5(UF\) v)-.1 F
(alue, in case the system def)-.25 E(ault is not suitable.)-.1 E -.92
(PA)108 124.8 S(RAM RcptLimitCount 10000).92 E .582(This sets the maxim\
um number of accepted recipients per one message transaction.)144 136.8
R(Def)5.582 E .582(ault \(and)-.1 F(minimum!\) v)144 148.8 Q
(alue is 100, which is mandated by the RFC 821.)-.25 E -.92(PA)108 177.6
S(RAM BindPort).92 E(25)7.5 E -.92(PA)108 194.4 S
(RAM BindAddress [0.0.0.0]).92 E -.92(PA)108 211.2 S
(RAM BindAddress [IPv6.0::0]).92 E -.92(PA)108 228 S(RAM BindAddress if)
.92 E(ace:if)-.1 E(acename)-.1 E .899(Per def)144 240 R .899
(ault the serv)-.1 F .899(er mode SMTP-serv)-.15 F .899
(er binds to port 25 and an)-.15 F 3.4(yl)-.15 G .9
(ocally accepted address, b)-3.4 F(ut)-.2 E .833
(occasionally people seem to w)144 252 R .833(ant to ha)-.1 F 1.132 -.15
(ve s)-.2 H .832(eparate serv).15 F .832(er instances with dif)-.15 F
.832(ferent con\214gurations,)-.25 F
(and for those cases are these parameters.)144 264 Q -.92(PA)108 292.8 S
(RAM DEB).92 E(UGcmd)-.1 E -.92(PA)108 309.6 S(RAM EXPNcmd).92 E -.92
(PA)108 326.4 S(RAM VRFYcmd).92 E 1.366(This trio \(DEB)144 338.4 R
1.367(UGcmd, EXPNcmd, VRFYcmd\) are enablers of lik)-.1 F 3.867(en)-.1 G
1.367(amed SMTP v)-3.867 F 1.367(erbs which)-.15 F(ha)144 350.4 Q .3
-.15(ve s)-.2 H(ome uses in the deb).15 E(ug mode.)-.2 E(The)144 374.4 Q
3.769(ya)-.15 G 1.269(re normally disabled, b)-3.769 F 1.269
(ut running them enabled does not allo)-.2 F 3.768(wd)-.25 G 1.268
(irect attacks with them.)-3.768 F(\(That we kno)144 386.4 Q 2.5(wo)-.25
G(f.\))-2.5 E -.92(PA)108 415.2 S(RAM enable\255router).92 E .005
(This enables interacti)144 427.2 R .305 -.15(ve r)-.25 H .005
(outer use where user inputs reach the router).15 F 5.005(.A)-.55 G
2.505(st)-5.005 G .005(hings turn out, while the)-2.505 F .076
(canned scripts should be safe ag)144 439.2 R .075(ainst an)-.05 F 2.575
(ya)-.15 G .075
(nd all inputs, a careless change in the router scripts may)-2.575 F
(endanger this status.)144 451.2 Q(Per def)144 475.2 Q(ault this is)-.1
E/F1 10/Times-Bold@0 SF(disabled)2.5 E F0(to protect your system.)2.5 E
1.892 -.8(To e)144 499.2 T .292(nable EXPN and VRFY).8 F 2.793(,t)-1.29
G .293(his must be enabled, b)-2.793 F .293(ut be)-.2 F F1 -.1(ve)2.793
G .293(ry car).1 F(efull)-.18 E F0 .293(when you do this.)2.793 F .293
(This is)5.293 F(also required for interacti)144 511.2 Q .3 -.15(ve r)
-.25 H(outer processing of `).15 E(`MAIL FR)-.74 E(OM')-.4 E 2.5('a)-.74
G(nd `)-2.5 E(`RCPT T)-.74 E(O')-.18 E 2.5('a)-.74 G(ddresses.)-2.5 E
-.92(PA)108 540 S(RAM smtp\255auth).92 E .656(This enables 'SMTP A)144
552 R .656(UTH' f)-.55 F .656(acility \(A)-.1 F .655(UTH v)-.55 F .655
(erb, plus optional parameter to MAIL v)-.15 F 3.155(erb\). W)-.15 F
(ith)-.4 E .294(this the users who are able to ')144 564 R .295(login' \
successfully to this host, are then able to relay the email thru)-.1 F
(the serv)144 576 Q(er unlimited.)-.15 E -.92(PA)108 604.8 S(RAM A).92 E
(UTH\255LOGIN\255also\255without\255TLS)-.55 E 3.612
(This enables 'SMTP A)144 616.8 R 3.612(UTH' f)-.55 F 3.612
(acility usage also without running under SSL/TLS security)-.1 F(en)144
628.8 Q -.15(ve)-.4 G(lope.).15 E -.92(PA)108 657.6 S(RAM MSA\255mode)
.92 E .686(Enable Message Submission Agent mode, where smtpserv)144
669.6 R(er)-.15 E F1 -.18(re)3.186 G(quir).18 E(es)-.18 E F0 .686
(successful user authentica-)3.186 F 1.436
(tion during SMTP sessions initiated from outside of the trusted netw)
144 681.6 R 1.435(orks or the netw)-.1 F 1.435(orks with)-.1 F .444
(relaying enabled \(see "fulltrustnet" and "relaycustnet" at the sample)
144 693.6 R/F2 10/Times-Italic@0 SF(pr)2.944 E(oto/db/smtp-policy)-.45 E
(.sr)-.55 E(c)-.37 E F0(\214le\).)2.944 E(13 Oct 2000)281.28 768 Q(4)
204.28 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E -.92(PA)108 84 S
(RAM SMTP\255auth\255pipe /path/to/program).92 E 1.1
(This is a path to the e)144 96 R 1.099(xternal authentication program.\
 The authenticator should read a username)-.15 F .538
(from command line and a passw)144 108 R .539
(ord from standard input. Exit status 0 means successful authenti-)-.1 F
(cation.)144 120 Q/F1 10/Times-Bold@0 SF 1.196(It is r)144 144 R(elati)
-.18 E -.1(ve)-.1 G 1.196(ly easy to mak).1 F 3.696(eam)-.1 G(istak)
-3.696 E 3.696(ei)-.1 G 3.696(ne)-3.696 G(xter)-3.696 E 1.196
(nal authentication pr)-.15 F 1.195(ogram that f)-.18 F(ollo)-.25 E
1.195(ws the)-.1 F(speci\214cation. Use this option only if y)144 156 Q
(ou kno)-.25 E 2.5(we)-.1 G(xactly what y)-2.5 E(ou do! BE CAREFULL!)
-.25 E F0 -.92(PA)108 184.8 S(RAM No8BITMIME).92 E -.92(PA)108 201.6 S
(RAM NoCHUNKING).92 E -.92(PA)108 218.4 S(RAM NoDSN).92 E -.92(PA)108
235.2 S(RAM NoEHLO).92 E -.92(PA)108 252 S(RAM NoENCHANCEDST).92 E -1.11
(AT)-.93 G(US\(CODES\))1.11 E -.92(PA)108 268.8 S(RAM NoETRN).92 E -.92
(PA)108 285.6 S(RAM NoPIPELINING).92 E 1.163(This set are)144 297.6 R F1
(disablers)3.663 E F0 1.163(of lik)3.663 F 3.663(en)-.1 G 1.164
(amed Extended SMTP EHLO responses, plus EHLO v)-3.663 F 1.164
(erb itself,)-.15 F 2.289(e.g. using these will turn of)144 309.6 R
4.789(fg)-.25 G -2.15 -.25(iv e)-4.789 H 4.788(n\().25 G 2.288(for e)
-4.788 F 2.288(xample `)-.15 F(`PIPELINING')-.74 E 2.288
('\) response from the EHLO)-.74 F .879(replies, and then a client poss\
ibly capable to feed PIPELINING will not do it -- unless it breaks)144
321.6 R(rules, and does it e)144 333.6 Q -.15(ve)-.25 G 2.5(nw).15 G
(hen the serv)-2.5 E(er does not report f)-.15 E(acility being a)-.1 E
-.25(va)-.2 G(ilable.).25 E .68(If you w)144 357.6 R .68
(ant to disable an)-.1 F 3.18(yo)-.15 G 3.18(ft)-3.18 G .68
(hese, you better ha)-3.18 F .98 -.15(ve a g)-.2 H .68
(ood reason for it, as in general the).15 F 3.18(yw)-.15 G(ork)-3.28 E
(quite \214ne.)144 369.6 Q
(Of these, 8BITMIME can not in reality be disabled, only its adv)144
393.6 Q(erticement can be turned of)-.15 E(f.)-.25 E -.92(PA)108 422.4 S
(RAM no\255multiline\255replies).92 E -.45(Tu)144 434.4 S 1.043(rn of)
.45 F 3.543(fZ)-.25 G(Mailer')-3.543 E 3.544(sd)-.55 G(ef)-3.544 E 1.044
(ault multiline replies; man)-.1 F 3.544(ys)-.15 G 1.044
(ystems \(especially from M$ breed\) don')-3.544 F 3.544(td)-.18 G(o)
-3.544 E(RFC 821 Appendix E properly)144 446.4 Q(...)-.65 E -.92(PA)108
475.2 S(RAM polic).92 E(ydb)-.15 E .582(This de\214nes smtp input polic)
144 487.2 R 3.082<798c>-.15 G .582(ltering/analysis database location.)
-3.082 F .581(See the comments at the sam-)5.581 F(ple)144 499.2 Q/F2 10
/Times-Italic@0 SF(pr)2.5 E(oto/db/smtp-policy)-.45 E(.sr)-.55 E(c)-.37
E F0(\214le.)2.5 E -.92(PA)108 540 S
(RAM content\214lter $MAILBIN/smtp-content\214lter).92 E(An e)144 552 Q
(xternal program for recei)-.15 E -.15(ve)-.25 G 2.5(dm).15 G
(essage content analysis.)-2.5 E 1.429(The interf)144 576 R 1.429
(ace to the program is simple synchronous half-duple)-.1 F 3.929(xo)-.15
G 1.429(ne, smtpserv)-3.929 F 1.43(er writes relati)-.15 F -.15(ve)-.25
G .975
(\214lepath of the message into programs stdin, ending it with a ne)144
588 R 3.474(wline. The)-.25 F .974(\214lter programs reply)3.474 F
(must be)144 600 Q(gin with a signed inte)-.15 E(ger)-.15 E 2.5(,t)-.4 G
(hen whate)-2.5 E -.15(ve)-.25 G 2.5(rt).15 G -.15(ex)-2.5 G 2.5(ti).15
G 2.5(sd)-2.5 G(esired to gi)-2.5 E .3 -.15(ve t)-.25 H 2.5(ot).15 G
(he user)-2.5 E(.)-.55 E -.92(PA)108 628.8 S(RAM tarpit n1 n2).92 E .874
(This de\214nes a pre-reply slo)144 640.8 R(w-do)-.25 E .874(wn f)-.25 F
(actor)-.1 E 3.375(,a)-.4 G .875(nd ne)-3.375 F .875
(xt delay multiplier \(both are inte)-.15 F 3.375(gers\). Def)-.15 F
(ault)-.1 E -.25(va)144 652.8 S .995(lues are \(0, 0\).).25 F .995
(Delay tops at 250 \(seconds\).)5.995 F .994(The `)5.994 F(`n1')-.74 E
3.494('i)-.74 G 3.494(su)-3.494 G .994(sed as the initial tarpit delay)
-3.494 F 3.494(,a)-.65 G(nd)-3.494 E -.74(``)144 664.8 S(n2').74 E 2.5
('i)-.74 G 2.5(sm)-2.5 G(ultiplier for formula:)-2.5 E F2(ne)2.5 E
(xt = pr)-.2 E .3 -.15(ev + \()-.37 H(pr).15 E .3 -.15(ev * n)-.37 H
(2\)).15 E F0 -.92(PA)108 693.6 S(RAM rcvd\255ident).92 E(13 Oct 2000)
281.28 768 Q(5)204.28 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E -.92(PA)108 84 S(RAM rcvd\255whoson).92 E -.92(PA)108
100.8 S(RAM rcvd\255auth\255user).92 E -.92(PA)108 117.6 S
(RAM rcvd\255tls\255mode).92 E -.92(PA)108 134.4 S
(RAM rcvd\255tls\255peer).92 E .864
(This quintet controls what possibly collected data is sho)144 146.4 R
.865(wn at the published `)-.25 F(`Recei)-.74 E -.15(ve)-.25 G(d:').15 E
3.365('h)-.74 G(eader)-3.365 E(that this system generates.)144 158.4 Q
-.92(PA)108 187.2 S(RAM etrn\255cluster node\255name\255or\255address m\
q2\255username mq2\255passwd).92 E .241(In load-balance clusters a netw)
144 199.2 R .241(ork le)-.1 F -.15(ve)-.25 G 2.741(ll).15 G .241
(oad-balancer may distrib)-2.741 F .241(ute the incoming SMTP connec-)
-.2 F .088(tions to multiple real machines, and by using this parameter\
 \(repeatedly\) to list those peers, system)144 211.2 R
(can relay user initiated ETRN requests to all cluster nodes.)144 223.2
Q/F1 10/Times-Italic@0 SF(This method r)144 247.2 Q(equir)-.37 E
(es that the sc)-.37 E(heduler runs its mailq service in MAILQv2 mode!)
-.15 E F0 -.92(PA)108 276 S(RAM lmtp\255mode).92 E .283(When desiring t\
o test LMTP \(RFC 2033\), this parameter can be turned on,)144 288 R F1
(howe)2.782 E .282(ver ZMailer is no)-.15 F -.37(re)144 300 S
(al LMTP server).37 E 2.5(,a)-1.11 G(nd this featur)-2.5 E 2.5(ei)-.37 G
2.5(so)-2.5 G(nly for deb)-2.5 E(ug purposes.)-.2 E F0
(Here is a possible con\214guration \214le:)108 328.8 Q/F2 10/Courier@0
SF(#)144 364.8 Q 6(#s)144 376.8 S
(mtpserver.conf - autogenerated edition)-6 E(#)144 388.8 Q
(#PARAM maxsize)144 400.8 Q(10000000 # Same as -M -option)48 E
(#PARAM min-availspace)144 412.8 Q
(5000 # Minimum free in POSTOFFICE after)30 E 180(##)144 424.8 S
(message has arrived; in kBs.)-174 E(#PARAM max-error-recipients)144
436.8 Q 6(3#M)12 G(ore than this is probably SPAM!)-6 E
(#PARAM max-unknown-commands 10 # More than this is probably broken)144
448.8 Q 180(##)144 460.8 S(client)-174 E(#PARAM MaxSameIpSource)144
472.8 Q(10 # Max simultaneous connections)36 E 180(##)144 484.8 S
(from any IP source address)-174 E
(#PARAM MaxParallelConnections 800 # Max simultaneous connections)144
496.8 Q 180(##)144 508.8 S(in total to the server)-174 E
(#PARAM TcpRcvBufferSize)144 520.8 Q(32000 # Should not need to set!)12
E(#PARAM TcpXmitBufferSize 32000 # Should not need to set!)144 532.8 Q
(#)144 544.8 Q(#PARAM ListenQueueSize)144 556.8 Q
(10 # listen\(2\) parameter)36 E(#)144 568.8 Q(#PARAM RcptLimitCount)144
580.8 Q(10000 # Max number of recipients for one)24 E 180(##)144 592.8 S
(MAIL FROM session. Minimum: 100)-174 E(#)144 604.8 Q(#PARAM BindPort)
144 616.8 Q 18(25 #)60 F(Binding port)6 E(#PARAM BindAddress)144 628.8 Q
6([0.0.0.0] #)12 F(Binding address - for multihomers..)6 E
(#PARAM BindAddress [IPv6.0::0] # and here is for IPv6 - NO SPACES!)144
640.8 Q(#)144 652.8 Q 6(#E)144 664.8 S(nables of some commands:)-6 E 6
(#PARAM DEBUGcmd)144 676.8 R 12(PARAM EXPNcmd)144 688.8 R 12
(PARAM VRFYcmd)144 700.8 R 6(PARAM enable-router)144 712.8 R 90(##)144
724.8 S(This is a security decission for you.)-84 E F0(13 Oct 2000)
281.28 768 Q(6)204.28 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10/Courier@0 SF 90(##)144 84 S
(This is needed for EXPN/VRFY and interactive)-84 E 90(##)144 96 S
(processing of MAIL FROM and RCPT TO addresses.)-84 E 90(##)144 108 S
(However it also may allow external user entrance)-84 E 90(##)144 120 S
(to ZMailer router shell environment with some)-84 E 90(##)144 132 S
(suitably pervert input, if quotation rules are)-84 E 90(##)144 144 S
(broken in the scripts.)-84 E(#)144 156 Q 6(#PARAM smtp-auth)144 168 R
90(##)144 180 S(enable if you want to allow SMTP to autenticate)-84 E 90
(##)144 192 S(with the default code against system /etc/passwd)-84 E 90
(##)144 204 S(\(or whatever source)-84 E(getpwnam\(\) uses for it..\))12
E(#)144 216 Q 6(#PARAM AUTH-LOGIN-also-without-TLS)144 228 R 90(##)144
240 S(Enable, if the "AUTH LOGIN" is to be allowed to)-84 E 90(##)144
252 S(be used without running under SSL/TLS security)-84 E 90(##)144 264
S(envelope.)-84 E(#)144 276 Q 6(#PARAM MSA-mode)144 288 R 90(##)144 300
S(Message Submission Agent mode. Require)-84 E 90(##)144 312 S
(successful user authentication during SMTP)-84 E 90(##)144 324 S
(sessions initiated from outside of the trusted)-84 E 90(##)144 336 S
(networks or the networks with relaying enabled)-84 E 90(##)144 348 S
(\(see "fulltrustnet" and "relaycustnet" in)-84 E 90(##)144 360 S
(smtp-policy.src file\).)-84 E(#)144 372 Q 6(#PARAM SMTP-auth-pipe)144
384 R(/path/to/program)6 E 90(##)144 396 S
(External authentication program. The)-84 E 90(##)144 408 S
(authenticator should read a username from)-84 E 90(##)144 420 S
(command line and a password from standard input.)-84 E 90(##)144 432 S
(Exit status 0 means successful authentication.)-84 E(#)144 444 Q 6(#D)
144 456 S(isablers of some facility adverticements)-6 E 6(#PARAM NoEHLO)
144 468 R 6(#PARAM NoPIPELINING)144 480 R 6(#PARAM No8BITMIME)144 492 R
6(#PARAM NoCHUNKING)144 504 R 6(#PARAM NoDSN)144 516 R 6(#PARAM NoETRN)
144 528 R 6(#PARAM no-multiline-replies)144 540 R 6(#e)6 G
(xcept to EHLO)-6 E(#)144 552 Q 6(#H)144 564 S(DR220 metatags:)-6 E 12
(#%)144 576 S 6(%-)-12 G 6(-')-6 G(%' character)-6 E 12(#%)144 588 S 6
(H-)-12 G 6(-S)-6 G(S->myhostname)-6 E 12(#%)144 600 S 6(I-)-12 G 6(-')
-6 G(+IDENT' if 'identflg' is set)-6 E 12(#%)144 612 S 6(V-)-12 G 6(-V)
-6 G(ersionNumb)-6 E 12(#%)144 624 S 6(T-)-12 G 6(-c)-6 G(urtime string)
-6 E 12(#%)144 636 S 6(X-)-12 G 6(-x)-6 G(latelang parameter)-6 E(#)144
648 Q(#PARAM hdr220 %H ZMailer ESMTP-server %V running at Yoyodyne Inc.)
144 660 Q
(#PARAM hdr220 %H \(NO UCE\)\(NO UBE\) our local time is now %T)144 672
Q(#)144 684 Q
(PARAM help ------------------------------------------------------)144
696 Q(PARAM help)144 708 Q
(This mail-server is at Yoyodyne Propulsion Inc.)12 E(PARAM help)144 720
Q(Our telephone number is: +1-234-567-8900, and)12 E F0(13 Oct 2000)
281.28 768 Q(7)204.28 E EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10/Courier@0 SF(PARAM help)144 84 Q
(telefax number is: +1-234-567-8999)12 E(PARAM help)144 96 Q
(Our business-hours are Mon-Fri: 0800-1700 \(TZ: -0700\))12 E
(PARAM help)144 108 Q(PARAM help)144 120 Q
(Questions regarding our email service should be sent)12 E(PARAM help)
144 132 Q(via email to address)12 E(<postmaster@OURDOMAIN>)12 E
(PARAM help)144 144 Q
(Reports about abuse are to be sent to: <abuse@OURDOMAIN>)12 E
(PARAM help ------------------------------------------------------)144
156 Q(#)144 168 Q 6(#U)144 180 S
(ncomment following for not to strip incoming addresses of)-6 E 6(#f)144
192 S(orm: <@aa,@bb:cc@dd> into non-source-routed base form: <cc@dd>)-6
E(#)144 204 Q(#PARAM allowsourceroute)144 216 Q(#)144 228 Q 6(#T)144 240
S(he policy database:)-6 E 6(#\()144 252 S
(NOTE: See `makedb' for its default suffixes!\))-6 E(#)144 264 Q 6
(PARAM policydb)144 276 R 6($DBTYPE $MAILVAR/db/smtp-policy)18 F(#)144
288 Q 6(#E)144 300 S
(xternal program for received message content analysis:)-6 E 6
(#PARAM contentfilter $MAILBIN/smtp-content-policy-analysis)144 312 R 6
(#PARAM tarpit)144 336 R 6(00 #N)6 G 6(o")-6 G
(tarpit" for 4XX/5XX reply codes)-6 E 6(#PARAM tarpit)144 348 R(20 2)6 E
6(#I)12 G(nitial delay: 20 secs, next = prev + \(prev * 2\))-6 E(#)144
372 Q 6(#T)144 384 S(LSv1/SSLv[23] parameters;)-6 E 6(#a)144 396 S
(ll must be used for the system to work!)-6 E(#)144 408 Q 6(#S)144 420 S
12(ee doc/guides/openssl,)-6 F(or:)12 E 6(#h)144 432 S
(ttp://www.aet.tu-cottbus.de/personen/jaenicke/pfixtls/doc/setup.html)-6
E(#)144 444 Q 6(#PARAM use-tls)144 456 R(##PARAM listen-ssmtp)144 468 Q
6(#Ad)24 G(eprecated TCP/465 port listener for SSL/SMTP)-6 E 6
(#PARAM tls-CAfile)144 480 R($MAILVAR/db/smtpserver-CAcert.pem)36 E 6
(#PARAM tls-cert-file)144 492 R($MAILVAR/db/smtpserver-cert.pem)18 E 6
(#PARAM tls-key-file)144 504 R($MAILVAR/db/smtpserver-key.pem)24 E 12
(##)144 516 S(Then some futher thoughs that may materialize some time..)
-6 E(#PARAM tls-loglevel)144 528 Q(0)30 E(#PARAM tls-ccert-vd)144 540 Q
(0)30 E(#PARAM tls-ask-cert)144 552 Q(0)30 E(#PARAM tls-require-cert 0)
144 564 Q
(##PARAM tls-CApath ... \(somewhen: verify client's certificates\))144
576 Q(##PARAM tls-enforce-tls 1)144 588 Q 6(#E)144 612 S
(lements to be added into "Received:" header's)-6 E 6(#i)144 624 S
(nitial comment part:)-6 E(#)144 636 Q(#PARAM rcvd-ident)144 648 Q 6(#T)
42 G(he ident lookup result)-6 E 138(##)144 660 S
(\(or even admitting it having queried\))-132 E(#PARAM rcvd-whoson)144
672 Q 6(#L)36 G(ikewise for "whoson")-6 E(#PARAM rcvd-auth-user)144 684
Q 6(#A)18 G(uthenticated Username)-6 E(#PARAM rcvd-tls-mode)144 696 Q 6
(#C)24 G(ipher or not)-6 E(#PARAM rcvd-tls-ccert)144 708 Q 6(#C)18 G
(lient Certificate reference)-6 E F0(13 Oct 2000)281.28 768 Q(8)204.28 E
EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10/Courier@0 SF 6(#Al)144 84 S
(oad-balanced server cluster may want to communicate)-6 E 6(#t)144 96 S
(he ETRN request to cluster components, here is how:)-6 E 6(#S)144 108 S
(ee also:)-6 E(doc/guides/etrn-cluster)12 E(#)144 120 Q
(#PARAM etrn-cluster localhost mq2-username mq2-passwd)144 132 Q
(#PARAM etrn-cluster node-2-name-or-address mq2-username mq2-passwd)144
144 Q
(#PARAM etrn-cluster node-3-name-or-address mq2-username mq2-passwd)144
156 Q(#...)144 168 Q
(#PARAM etrn-cluster node-40-name-or-address mq2-username mq2-passwd)144
180 Q(#)144 204 Q(#)144 216 Q 6(#H)144 228 S 24
(ELO/EHLO-pattern style-flags)-6 F 90(#[)144 240 S(max loadavg])-90 E(#)
144 252 Q 60(localhost 999)144 264 R(ftveR)6 E 18(some.host.domain 999)
144 276 R(!NO EMAIL ACCEPTED FROM YOUR MACHINE)6 E 6(#I)144 288 S 6(ft)
-6 G(he host presents itself as:)-6 E(HELO [1.2.3.4])12 E(be lenient to)
12 E 6(#i)144 300 S 6(t.. The)-6 F
(syntax below is due to these patterns being SH-GLOB)6 E 6(#s)144 312 S
(tyle patterns where the brackets are special characters.)-6 E 72
(\\[*\\] 999)144 324 R(ve)6 E 6(#P)144 336 S
(er default demant strict syntactic adherence, including fully)-6 E 6
(#q)144 348 S(ualified addresses for)-6 E(MAIL FROM, and RCPT TO.)12 E
(To be lenient)12 E 6(#o)144 360 S 6(nt)-6 G
(hat detail, remove the "R" from "veR" string below:)-6 E 114(*9)144 372
S(99 veR)-114 E/F2 10.95/Times-Bold@0 SF(CONTENTFIL)72 400.8 Q
(TER INTERF)-1.007 E -.602(AC)-.986 G(E).602 E F0(The)108 412.8 Q/F3 10
/Times-Italic@0 SF(content\214lter)3.206 E F0 .706
(program is started without parameters running userid of)3.206 F F3
(daemon)3.206 E F0 .707(in directory $POST)3.206 F(OF-)-.18 E(FICE.)108
424.8 Q .405(The program must silently w)108 441.6 R .405(ait for input\
, which is full path to the message spool \214le, analyze it, and reply)
-.1 F .765(with e)108 453.6 R .766
(xactly one line matching rule of: "%i " -- be)-.15 F .766
(gin with signed inte)-.15 F(ger)-.15 E 3.266(,t)-.4 G .766(hen ha)
-3.266 F 1.066 -.15(ve o)-.2 H .766(ne or more whites-).15 F
(pace, then whate)108 465.6 Q -.15(ve)-.25 G 2.5<728c>.15 G
(lter writer lik)-2.5 E(ed.)-.1 E(General rule:)108 482.4 Q F1
(-1 negatives are condemned into rejection)114 506.4 Q 6(0z)120 518.4 S
(ero is ok! gladly accepted)-6 E 6(1p)120 530.4 S
(ositives are sent into the freezer)-6 E F0(The program)108 547.2 Q F3
(may)2.5 E F0
(produce also the numeric SMTP reply codes in its response te)2.5 E(xt:)
-.15 E F1(-1)114 571.2 Q
(-1 250 2.7.1 Glad to see some spam, immediately destroyed :\))114 583.2
Q(0)120 595.2 Q 6(02)120 607.2 S(50 2.6.0 Message OK!)-6 E(1)120 619.2 Q
6(15)120 631.2 S(50 5.7.1 That is spam, rejected!)-6 E F0 .817
(If the message has no te)108 648 R .817(xt, some def)-.15 F .817
(aults are supplied.)-.1 F .817(If the message te)5.817 F .817
(xt starts with numbers, it is pre-)-.15 F .43
(sumed that it contains both the SMTP reply code, and ENHANCEDST)108 660
R -1.11(AT)-.93 G .431(USCODE before the te)1.11 F 2.931(xt. \(If)-.15 F
(no)2.931 E(ENHANCEDST)108 672 Q -1.11(AT)-.93 G
(USCODE part is present, then some possibly senseless def)1.11 E
(ault is supplied.\))-.1 E(Interf)108 688.8 Q .23(ace message te)-.1 F
.23(xt lines be)-.15 F .229(ginning with an)-.15 F .229(ything e)-.15 F
.229(xcept signed inte)-.15 F .229(ger are logged, and the communica-)
-.15 F .617(tion channel from the smtpserv)108 700.8 R .617
(er to the content\214lter program is closed.)-.15 F(Interf)5.618 E .618
(ace continues to scan things)-.1 F .341(reported by the content\214lte\
r program, and if no properly formatted line appears, def)108 712.8 R
.34(ault is to send the mes-)-.1 F(sage into the freezer \("-1"\);)108
724.8 Q(13 Oct 2000)281.28 768 Q(9)204.28 E EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10.95/Times-Bold@0 SF -.81(PA)72 84 S(M-SUPPOR).81 E
2.738(TF)-.438 G(OR SMTP-A)-2.738 E(UTH)-.548 E F0
(If the system has <security/pam_appl.h> \214le, follo)108 96 Q
(wing \214le will also be needed for the system:)-.25 E/F2 10/Courier@0
SF(------- /etc/pam.d/smtpauth-login -----------)108 124.8 Q(#%PAM-1.0)
108 136.8 Q 24(auth required)108 148.8 R
(/lib/security/pam_pwdb.so shadow)12 E 24(auth required)108 160.8 R
(/lib/security/pam_nologin.so)12 E 6
(account required /lib/security/pam_pwdb.so)108 172.8 R F1
(SMTP-POLICY CONFIGURA)72 189.6 Q(TION)-1.04 E F0 .084
(This subsystem of)108 201.6 R/F3 10/Times-Italic@0 SF(smtpserver)2.584
E F0 .085(does control acceptability of recipient en)2.584 F -.15(ve)-.4
G .085(lope addresses per se).15 F -.15(ve)-.25 G .085(ral criteria:).15
F(contactee IP address)108 218.4 Q(SMTP "MAIL FR)108 235.2 Q
(OM:<..>" address)-.4 E(SMTP "RCPT T)108 252 Q(O:<..>" addresses)-.18 E
-.25(va)108 268.8 S(rious control \214les).25 E(Speci\214cally the)108
285.6 Q F3($MAILBIN/policy-b)2.5 E(uilder)-.2 E(.sh)-1.11 E F0
(script uses follo)2.5 E(wing \214les:)-.25 E(MAIL)113 302.4 Q -1.35(VA)
-1 G(R/db/smtp-polic)1.35 E -.65(y.)-.15 G 27.5(src The).65 F
(boilerplate)2.5 E(MAIL)113 314.4 Q -1.35(VA)-1 G 35
(R/db/localnames \('=)1.35 F(_local_names'\))2.5 E(MAIL)113 326.4 Q
-1.35(VA)-1 G(R/db/smtp-polic)1.35 E -.65(y.)-.15 G(relay).65 E
(.manual \('= _full_rights'\))-.65 E(MAIL)113 338.4 Q -1.35(VA)-1 G
(R/db/smtp-polic)1.35 E -.65(y.)-.15 G 17.5(relay \('=).65 F
(_full_rights'\))2.5 E(MAIL)113 350.4 Q -1.35(VA)-1 G(R/db/smtp-polic)
1.35 E -.65(y.)-.15 G 7.5(mx.manual \('=).65 F(_relaytar)2.5 E(get'\))
-.18 E(MAIL)113 362.4 Q -1.35(VA)-1 G(R/db/smtp-polic)1.35 E -.65(y.)
-.15 G 25(mx \('=).65 F(_relaytar)2.5 E(get'\))-.18 E(MAIL)113 374.4 Q
-1.35(VA)-1 G(R/db/smtp-polic)1.35 E -.65(y.)-.15 G 2.5
(spam.manual \('=).65 F(_b)2.5 E(ulk_mail'\))-.2 E(MAIL)113 386.4 Q
-1.35(VA)-1 G(R/db/smtp-polic)1.35 E -.65(y.)-.15 G 20(spam \('=).65 F
(_b)2.5 E(ulk_mail'\))-.2 E/F4 10/Times-Bold@0 SF .019(If y)108 403.2 R
.019(ou want, y)-.25 F .018(ou can modify y)-.25 F .018
(our boiler plate as well as y)-.25 F .018(our installed policy-b)-.25 F
(uilder)-.2 E .018(.sh script.)-1 F F0(\(Doing)5.018 E('mak)108 415.2 Q
2.5(ei)-.1 G(nstall' will o)-2.5 E -.15(ve)-.15 G(rwrite).15 E F3
(policy-b)2.5 E(uilder)-.2 E(.sh)-1.11 E F0 2.5(,b)C(ut not)-2.7 E F3
(smtp-policy)2.5 E(.sr)-.55 E(c)-.37 E F0(\))A .809(Basically these v)
108 432 R .809(arious source \214les \(when e)-.25 F .809
(xisting\) are used to combine kno)-.15 F .81(wledge of v)-.25 F .81
(alid users around)-.25 F 3.225(us. Some)108 444 R .724(datasets ha)
3.225 F -.15(ve)-.2 G F3(two)3.374 E F0 .724(input source \214les,)3.224
F F3(smtp-policy)3.224 E(.NN)-.55 E F0(and)3.224 E F3(smtp-policy)3.224
E(.NN.manual)-.55 E F0 3.224(,t).51 G .724(he ".manual")-3.224 F
(is intended to be o)108 456 Q -.15(ve)-.15 G
(rrider of of possibly autogenerated data at the "plain" v).15 E
(ersion of \214les.)-.15 E(localnames)108 477.6 Q
(Who we are -- ok for recei)144 489.6 Q
(ving; does not grant outgoing relay capability)-.25 E(.)-.65 E
(smtp-polic)108 518.4 Q -.65(y.)-.15 G(relay).65 E(smtp-polic)108 535.2
Q -.65(y.)-.15 G(relay).65 E(.manual)-.65 E
(Who can use us as outbound relay)144 547.2 Q(.)-.65 E(Use here)144
571.2 Q([ip.number]/maskwidth)151.5 583.2 Q .824
(for listing those senders \(netw)144 595.2 R .824
(orks\) we absolutely trust.)-.1 F .824(Additionally you may gi)5.824 F
1.125 -.15(ve \()-.25 H .825(at the same).15 F(line\) some attrib)144
607.2 Q(utes as parameters for this k)-.2 E .3 -.15(ey e)-.1 H(ntry:).15
E(fulltrustnet +)151.5 619.2 Q(trustrecipient +)151.5 631.2 Q .108
(First pair will accept an)144 643.2 R 2.608(ys)-.15 G .108
(ource address, and an)-2.608 F 2.608(yr)-.15 G .107
(ecipient addresses that are fed to the serv)-2.608 F 2.607(er; the)-.15
F(second will v)144 655.2 Q(erify the source address, b)-.15 E
(ut after that it will accept an)-.2 E 2.5(yr)-.15 G
(ecipient addresses.)-2.5 E -1.1(Yo)144 679.2 S 2.705(um)1.1 G .205
(ay also enter domains which are look)-2.705 F .206
(ed up for the hostname of re)-.1 F -.15(ve)-.25 G .206
(rsed IP address, b).15 F .206(ut it is)-.2 F .989(not v)144 691.2 R
.989(ery wise; IP-re)-.15 F -.15(ve)-.25 G .989(rsal is not trustw).15 F
(orth)-.1 E 3.489(yd)-.05 G 3.489(ata. It)-3.489 F .988
(may also cause double- entry/le)3.488 F -.15(ve)-.25 G 3.488(ld).15 G
(escen-)-3.488 E 4.255(dance problems when tw)144 703.2 R 6.755(od)-.1 G
(omain-suf)-6.755 E<8c78>-.25 E 4.255(es ha)-.15 F 4.555 -.15(ve s)-.2 H
4.255(ame ending suf).15 F 4.255(\214x \(or are the same\)..)-.25 F
(\(Name/k)144 715.2 Q -.15(ey)-.1 G(space problem\)).15 E(13 Oct 2000)
281.28 768 Q(10)199.28 E EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E 1.6 -.8(We c)144 84 T(an set the internal "al).8 E -.1
(wa)-.1 G(ys_accept" \215ag at the source IP test, and ne).1 E -.15(ve)
-.25 G 2.5(ra).15 G(fter)-2.5 E(.)-.55 E(smtp-polic)108 112.8 Q -.65(y.)
-.15 G(mx).65 E(smtp-polic)108 129.6 Q -.65(y.)-.15 G(mx.manual).65 E
(Who really are our MX clients.)144 141.6 Q .05
(Use this when you really kno)144 165.6 R 2.55(wt)-.25 G .05
(hem, and don')-2.55 F 2.55(tw)-.18 G .05
(ant just to trust that if recipient has MX to you, it)-2.65 F -.1(wo)
144 177.6 S 1.142(uld be ok...).1 F -1.1(Yo)6.142 G 3.642(uc)1.1 G 1.143
(an substitute this kno)-3.642 F 1.143
(wledge with a fuzzy feeling by using 'acceptifmx +')-.25 F(attrib)144
189.6 Q(ute at the generic boilerplate.)-.2 E(List here)144 213.6 Q/F1
10/Times-Italic@0 SF(domain names.)2.5 E F0 -1.1(Yo)144 237.6 S 2.5(uC)
1.1 G
(AN also list here all POSTMASTER addresses you accept email routed to:)
-2.5 E(postmaster@local.domain)149 261.6 Q(postmaster@client.domain)149
273.6 Q(these are magic addresses that email is accepted to, e)144 297.6
Q -.15(ve)-.25 G 2.5(nw).15 G(hen e)-2.5 E -.15(ve)-.25 G
(rything else is block).15 E(ed.)-.1 E(smtp-polic)108 326.4 Q -.65(y.)
-.15 G(spam).65 E(smtp-polic)108 343.2 Q -.65(y.)-.15 G(spam.manual).65
E .275(Those users & domains that are absolutely no-no for the senders,\
 or the recipients, no matter what)144 355.2 R(earlier analysis has sho)
144 367.2 Q 2.5(wn. \(Except)-.25 F
(for those that we absolutely trust..\))2.5 E(Short usage instructions:)
108 384 Q 2.5(-F)108 396 S(ill in/modify related \214les)-2.5 E 2.5(-e)
108 408 S -.15(xe)-2.65 G(cute).15 E F1(MAILBIN/policy-b)2.5 E(uilder)
-.2 E(.sh)-1.11 E F0(script)2.5 E/F2 10.95/Times-Bold@0 SF
(SMTP-POLICY TESTING)72 424.8 Q F0 -1.1(Yo)108 436.8 S 2.604(uc)1.1 G
.104(an run the smtpserv)-2.604 F .104
(er in a mode where you can claim to be from an)-.15 F 2.605(ya)-.15 G
.105(ddress in the outside w)-2.605 F .105(orld you)-.1 F(wish:)108
448.8 Q($MAILBIN/smtpserv)113 465.6 Q(er -i -d 1 -T '[1.2.3.4]')-.15 E
(The mode must be interacti)108 482.4 Q .3 -.15(ve \()-.25 H
(-i\), and supplying deb).15 E(ug mode \(-d 1\) to it is good help.)-.2
E .756(Actual claimed connection source address is to be gi)108 499.2 R
-.15(ve)-.25 G 3.256(ni).15 G .756(nside square brack)-3.256 F .756
(ets as a SMTP IP address lit-)-.1 F(eral.)108 511.2 Q(No)108 528 Q 2.5
(wy)-.25 G(ou can try things lik)-2.5 E(e:)-.1 E/F3 10/Courier@0 SF
(220 ...)120 556.8 Q(EHLO foo)120 568.8 Q(...)120 580.8 Q(MAIL FROM:<>)
120 592.8 Q(...)120 604.8 Q(RCPT TO:<address@local.domain>)120 616.8 Q
(...)120 628.8 Q(RCPT TO:<address@elsewere.domain>)120 640.8 Q(...)120
652.8 Q F0 .455(\(Substitute some real domains into those RCPT T)108
669.6 R 2.955(Ol)-.18 G .456
(ines -- "local.domain" is a hint about what to pick for)-2.955 F
(it..\))108 681.6 Q 2.236(Depending what kind of address you ha)108
698.4 R 2.536 -.15(ve s)-.2 H 2.236(upplied to the -T parameter).15 F
4.735(,t)-.4 G(he)-4.735 E 4.735(yg)-.15 G 2.235(et either accepted, or)
-4.735 F(rejected.)108 710.4 Q(13 Oct 2000)281.28 768 Q(11)199.28 E EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10.95/Times-Bold@0 SF
(SMTP-POLICY RBL-TYPE BLOCKING LISTS)72 84 Q F0 .89(Per def)108 96 R .89
(ault the system)-.1 F/F2 10/Times-Bold@0 SF .89(does not)3.39 F F0 .89
(use RBL-type blocking lists.)3.39 F .89(There are tw)5.89 F 3.39(ow)-.1
G .89(ays ho)-3.49 F 3.39(wt)-.25 G 3.39(ot)-3.39 G(ak)-3.39 E 3.39(et)
-.1 G .89(hem into)-3.39 F(use:)108 108 Q 33.5(oY)108 129.6 S
(ou can start rejecting at the connection setup and then at MAIL FR)
-34.6 E(OM \(and RCPT T)-.4 E(O\).)-.18 E(Ho)144 153.6 Q(we)-.25 E -.15
(ve)-.25 G 3.216(rm).15 G(an)-3.216 E 3.216(y\()-.15 G .716
(especially M$ en)-3.216 F .715(vironment\) SMTP clients w)-.4 F(on')-.1
E 3.215(tr)-.18 G .715(eact on that properly)-3.215 F 3.215(,a)-.65 G
.715(nd will)-3.215 F(just k)144 165.6 Q(eep repeating the deli)-.1 E
-.15(ve)-.25 G(ry attempts.).15 E 31(oY)108 182.4 S
(ou can delay the rejections until RCPT addresses are gi)-32.1 E -.15
(ve)-.25 G(n.).15 E F1(SMTP-POLICY)72 204 Q 2.738(;I)-1.007 G(MMEDIA)
-2.738 E(TE REJECTION BY RBL)-1.04 E F0(Lik)108 216 Q 2.645(em)-.1 G
.145(entioned abo)-2.645 F -.15(ve)-.15 G 2.645(,t).15 G .145
(his method has a problem with man)-2.645 F 2.645(yc)-.15 G .145
(lients who don')-2.645 F 2.646(tb)-.18 G(elie)-2.646 E .446 -.15(ve t)
-.25 H .146(hat HELO can gi).15 F -.15(ve)-.25 G(500-series response.)
108 228 Q(Method is as follo)108 244.8 Q(ws:)-.25 E .358
(Pick your choice of databases to the second v)108 261.6 R .357
(ariant `)-.25 F(`)-.74 E/F3 10/Courier@0 SF(_rbl0)A F0 1.837 -.74('' l)
D .357(abel by joining your selection from v).74 F(arious)-.25 E
(things e)108 273.6 Q -.15(xe)-.15 G(mpli\214ed here belo).15 E 2.5(wb)
-.25 G 2.5(yu)-2.5 G(sing `)-2.5 E(`)-.74 E F3(:)A F0 1.48 -.74('' c)D
(haracter as glue in between:).74 E -.74(``)113 290.4 S F3(+).74 E F0
1.48 -.74('' a)D(lias `).74 E(`)-.74 E F3(rbl.maps.vix.com)A F0 -.74('')
C -.74(``)113 302.4 S F3(relays.mail-abuse.org).74 E F0 -.74('')C -.74
(``)113 314.4 S F3(dul.maps.vix.com).74 E F0 -.74('')C -.74(``)113 326.4
S F3(relays.orbs.org).74 E F0 -.74('')C -.74(``)113 338.4 S F3
(ok.orbs.org:relays.orbs.org).74 E F0 1.48 -.74('' <)D(--).74 E F2
(THIS IS A P)2.5 E(AIR!)-.74 E F0 -.15(Fo)108 355.2 S 3.881(rt).15 G
1.381(he `)-3.881 F(`)-.74 E F3(ok.orbs.org:relays.orbs.org)A F0 2.861
-.74('' t)D 1.381(he ZMailer 2.99.52patch2 has special support, b).74 F
1.381(ut it)-.2 F(isn')108 367.2 Q 2.989(te)-.18 G .489
(ntirely fool-proof thing...)-2.989 F .489(\(Due to f)5.489 F .489
(alse OKs in the OK zone while NETBLOCK type things e)-.1 F .488
(xist at)-.15 F(the RELA)108 379.2 Q(YS zone.\))-1.05 E(An e)108 396 Q
(xample for the resulting attrib)-.15 E(ute pair: \(RBL+DUL+RSS\))-.2 E
F3(#| Second RBL variant: Early block with RBL+DUL+RSS)120 424.8 Q 12
(_rbl0 test-dns-rbl)120 436.8 R
(+:dul.maps.vix.com:relays.mail-abuse.org)12 E 12(_rbl1 #)120 448.8 R
(Nothing)6 E F1(SMTP-POLICY)72 470.4 Q 2.738(;D)-1.007 G(ELA)-2.738 E
(YED REJECTION BY RBL)-1.095 E F0(Delay the rejection report to `)108
482.4 Q(`)-.74 E F3(RCPT TO)A F0 1.48 -.74('' v)D(erbs by using the `)
.59 E(`Third RBL v)-.74 E(ariant')-.25 E(':)-.74 E F3
(#| Third RBL variant: Late block with RBL+DUL+RSS)120 511.2 Q 12
(_rbl0 rcpt-dns-rbl)120 523.2 R
(+:dul.maps.vix.com:relays.mail-abuse.org)36 E 12
(_rbl1 test-rcpt-dns-rbl)120 535.2 R(+)6 E F0 1.235
(The sample boilerplace will use these as def)108 552 R 1.235
(aults unless you choose to e)-.1 F 1.235(xplicitely ha)-.15 F 1.535
-.15(ve `)-.2 H(`)-.59 E F3(test-rcpt-)A(dns-rbl -)108 564 Q F0 1.48
-.74('' a)D 2.5(ts).74 G(ome of the recipient domains you list at)-2.5 E
/F4 10/Times-Italic@0 SF(smtp-policy)2.5 E(.mx)-.55 E F0(\214le:)2.5 E
F3(#sample.domain.with.rbl)120 592.8 Q 18
(sample.domain.no.rbl test-rcpt-dns-rbl)120 604.8 R(-)6 E F1(FILES)72
626.4 Q F4(/etc/zmailer)108 638.4 Q(.conf)-1.11 E(/var/spool/postof)108
650.4 Q(\214ce/.pid.smtpserver \(POST)-.18 E(OFFICE/.pid.smtpserver\))
-.18 E(/local/shar)108 662.4 Q(e/mail/smtpserver)-.37 E
(.conf \(MAILSHARE/smtpserver)-1.11 E(.conf\))-1.11 E
(/etc/pam.d/smtpauth-lo)108 674.4 Q(gin \(if P)-.1 E(AM mec)-.9 E
(hanism is pr)-.15 E(esent and plain-passwor)-.37 E 2.5(da)-.37 G
(uthentication is wanted\))-2.5 E F1(SEE ALSO)72 691.2 Q F0(router\(8\))
108 703.2 Q(RFC 821)108 720 Q(The basic SMTP speci\214cation)146.1 E
(13 Oct 2000)281.28 768 Q(12)199.28 E EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E(RFC 1123)108 84 Q -1.11(Va)141.1 G
(rious 821 parameter clari\214cations)1.11 E(Se)108 108 Q -.15(ve)-.25 G
(ral e).15 E(xtended SMTP f)-.15 E(acilities are implemented:)-.1 E
(RFC 1341/1521/2045)108 132 Q(MIME speci\214cation \(body)95.54 E 2.5
(,f)-.65 G(ormats\))-2.5 E(RFC 1342/1522/2047)108 144 Q
(MIME speci\214cation \(headers\))95.54 E(RFC 1425/1651/1869)108 156 Q
(ESMTP EHLO frame)95.54 E -.1(wo)-.25 G(rk).1 E(RFC 1426/1652)108 168 Q
(ESMTP 8BITMIME)118.32 E(RFC 1427/1653/1870)108 180 Q(ESMTP SIZE)95.54 E
(RFC 1428)108 192 Q(Basic MIME con)141.1 E -.15(ve)-.4 G(rsion rules).15
E(RFC 1830)108 204 Q(ESMTP CHUNKING)141.1 E(RFC 1854/2197)108 216 Q
(ESMTP PIPELINING)118.32 E(RFC 1891)108 228 Q(ESMTP DSN)141.1 E
(RFC 1985)108 240 Q(ESMTP ETRN)141.1 E(RFC 2033)108 252 Q(LMTP mode)
141.1 E(RFC 2034)108 264 Q(ESMTP ENHANCEDST)141.1 E -1.11(AT)-.93 G
(USCODES)1.11 E(RFC 2487)108 276 Q(ESMTP ST)141.1 E(AR)-.93 E(TTLS)-.6 E
(RFC 2554+M$ Exchange)108 288 Q(ESMTP A)79.64 E(UTH LOGIN)-.55 E
(RFC 2554+NetScape)108 300 Q(ESMTP A)97.14 E(UTH=LOGIN)-.55 E(RFC 2852)
108 312 Q(ESMTP DELIVERBY)141.1 E/F1 10.95/Times-Bold@0 SF -.548(AU)72
328.8 S(THOR).548 E F0(This program authored and cop)108 340.8 Q
(yright by:)-.1 E(Rayan Zachariassen \(w)108 352.8 Q(as at U of T)-.1 E
(oronto\))-.8 E(Extended SMTP)108 364.8 Q 2.5(,p)-1.11 G(olic)-2.5 E 2.5
(yf)-.15 G(acilities, etc. by)-2.6 E(Matti Aarnio)108 376.8 Q
(<mea@nic.funet.\214>)5 E(13 Oct 2000)281.28 768 Q(13)199.28 E EP
%%Trailer
end
%%EOF
