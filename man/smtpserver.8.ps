%!PS-Adobe-3.0
%%Creator: groff version 1.11
%%CreationDate: Sat Jul  3 01:36:13 1999
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.11 0
%%Pages: 6
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.11 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 9/Times-Bold@0 SF -.18(NA)72 84 S(ME).18 E F0
(smtpserv)108 96 Q(er \255 zmailer SMTP serv)-.15 E(er)-.15 E F1
(SYNOPSIS)72 112.8 Q/F2 10/Times-Bold@0 SF(smtpser)108 124.8 Q -.1(ve)
-.1 G(r).1 E F0([)2.863 E F2(\25546aignBVvw)2.863 E F0 2.863(][)2.863 G
F2<ad70>A/F3 10/Times-Italic@0 SF(port)2.863 E F0 2.863(][)2.863 G F2
<ad6c>A F3(lo)2.863 E(g\214le)-.1 E F0 2.863(][)2.863 G F2<ad73>-.001 E
F0([)A F2(ftv)A(eR)-.1 E F0 2.862(]][)C F2 .362(\255s strict)B F0 2.862
(][)2.862 G F2<ad4c>A F3(maxloadaver)2.862 E F0 2.862(][)2.862 G F2
<ad4d>A F3(SMTPmaxsize)108 136.8 Q F0 2.5(][)2.5 G F2<ad50>A F3(postof)
2.5 E(\214ce)-.18 E F0 2.5(][)2.5 G F2<ad52>A F3 -.45(ro)2.5 G(uter).45
E F0 2.5(][)2.5 G F2<ad43>A F3(cfg\214le)2.5 E F0(])2.5 E F1
(DESCRIPTION)72 153.6 Q F0 .481(This program implements the serv)108
165.6 R .482
(er side of the SMTP protocol as described in RFC821, and kno)-.15 F
.482(ws about)-.25 F(the common e)108 177.6 Q
(xtensions to the protocol e)-.15 E
(xpected by Sendmail and BSMTP clients.)-.15 E .662(By def)108 194.4 R
.662(ault the program will kill the pre)-.1 F(vious)-.25 E F3
(smtpserver)3.162 E F0 .662(daemon, if an)3.162 F 1.962 -.65(y, t)-.15 H
.661(hen detach and listen for SMTP).65 F 5.442(connections. Incoming)
108 206.4 R 2.942(messages will be submitted for processing using the)
5.442 F F3(zmailer)5.443 E F0 2.943(\(3\) interf).73 F 2.943(ace to)-.1
F(ZMailer)108 218.4 Q 5.128(.N)-.55 G(ontri)-5.128 E .127
(vial address checking is done asynchronously)-.25 F 2.627(,a)-.65 G
.127(lthough this beha)-2.627 F .127(viour can be changed by a)-.2 F
.633(command line option if you cannot af)108 230.4 R .633
(ford to transfer data just to bounce it back.)-.25 F .634
(All checking is done by)5.633 F -.15(exe)108 242.4 S .396(cuting the)
.15 F F3 -.45(ro)2.896 G(uter).45 E F0 .396(\(8\) program in interacti)
.73 F .696 -.15(ve m)-.25 H .396(ode, and e).15 F -.15(xe)-.15 G .396
(cuting a well-kno).15 F .395(wn shell function with well-)-.25 F(kno)
108 254.4 Q(wn parameters for each request.)-.25 E F1(OPTIONS)72 271.2 Q
F0 22.86(\2554 Explicitely)108 283.2 R .199(to use IPv4 type of sock)
2.699 F .199(et e)-.1 F -.15(ve)-.25 G 2.699(no).15 G 2.699(nm)-2.699 G
.2(achines that is capable to do IPv6 type of sock)-2.699 F(ets.)-.1 E
22.86(\2556 Explicitely)108 300 R 1.668
(to \(try to\) use IPv6 type of sock)4.168 F 1.668(et e)-.1 F -.15(ve)
-.25 G 4.168(ni).15 G 4.168(ft)-4.168 G 1.668
(he machine does not support it.)-4.168 F -.15(Fo)6.667 G 4.167(ra).15 G
(def)144 312 Q .616(ault the serv)-.1 F .616
(er will try to use IPv6, if it has been compiled on an en)-.15 F .617
(vironment where it is pre-)-.4 F(sent, b)144 324 Q(ut will do a f)-.2 E
(allback to IPv4 in case the runtime system does not ha)-.1 E .3 -.15
(ve I)-.2 H(Pv6.).15 E 23.42(\255a turn)108 340.8 R .29(on RFC931/RFC14\
13 indenti\214cation protocol, and log the information acquired with it\
 to the)2.79 F(submitted \214le.)144 352.8 Q 20.64(\255w turn)108 369.6
R(on usage of "whoson" protocol.)2.5 E(This option is a)5 E -.25(va)-.2
G(ilable e).25 E -.15(ve)-.25 G 2.5(ni).15 G 2.5(fa)-2.5 G
(ctual code is not a)-2.5 E -.25(va)-.2 G(ilable.).25 E 22.86(\255g the)
108 386.4 R 1.03(gullible option will mak)3.53 F 3.53(et)-.1 G 1.03
(he program belie)-3.53 F 1.33 -.15(ve a)-.25 H 1.33 -.15(ny i).15 H
1.03(nformation it is told \(such as origin of a).15 F
(connection\) without checking.)144 398.4 Q 25.08(\255i runs)108 415.2 R
2.661(the serv)5.161 F 2.661(er interacti)-.15 F -.15(ve)-.25 G(ly).15 E
5.161(,w)-.65 G 2.661(hich mak)-5.161 F 2.661
(es it usable for processing a batched SMTP stream)-.1 F 1.215
(\(BSMTP\) on stdin.)144 427.2 R -.4(Wi)6.215 G(th).4 E F3<ad76>3.715 E
F0 1.215(option this echoes incoming BSMTP to create more accurate f)
3.715 F(ax-)-.1 E(imille of BITNET BSMTP mailers.)144 439.2 Q<ad6c>108
456 Q F3(lo)2.5 E(g\214le)-.1 E F0
(speci\214es a log\214le and enables recording of incoming SMTP con)144
468 Q -.15(ve)-.4 G(rsations.).15 E 22.86(\255n indicates)108 484.8 R
(the program is being run from)2.5 E F3(inetd)2.5 E F0(\(8\).).77 E
22.86(\255p speci\214es)108 501.6 R
(the TCP port to listen on instead of the def)2.5 E(ault SMTP port, 25.)
-.1 E 21.19(\255B \215ags)108 518.4 R(the email to arri)2.5 E .3 -.15
(ve v)-.25 H(ia BSMTP channel \(via BITNET).15 E 2.5(,f)-.74 G(or e)-2.5
E(xample\).)-.15 E<ad4c>108 535.2 Q F3(maxloadaver)2.5 E F0
(tells the maximum load-a)144 547.2 Q -.15(ve)-.2 G
(rage the system is under when we still accept email in.).15 E<ad4d>108
564 Q F3(SMTPmaxsize)2.5 E F0 1.477
(De\214nes the asolute maximum size we accept from incoming email.)144
576 R(\(Def)6.477 E 1.477(ault: in\214nite\) \(This is)-.1 F
(local polic)144 588 Q 2.5(yi)-.15 G(ssue.\))-2.5 E<ad50>108 604.8 Q F3
(postof)2.5 E(\214ce)-.18 E F0(speci\214es an alternate)144 616.8 Q F2
(POST)2.5 E(OFFICE)-.18 E F0(directory)2.5 E(.)-.65 E<ad52>108 633.6 Q
F3 -.45(ro)2.5 G(uter).45 E F0(speci\214es an alternate)144 645.6 Q F3
-.45(ro)2.5 G(uter \(8\)).45 E F0(program to use for address v)2.5 E
(eri\214cation.)-.15 E<ad43>108 662.4 Q F3(cfg\214le)2.5 E F0
(speci\214es nonstandard con\214guration \214le location; the def)144
674.4 Q(ault is)-.1 E F3($MAILSHARE/smtpserver)2.5 E(.conf)-1.11 E F0(.)
1.96 E(\255s strict)108 691.2 Q 1.82(this turns on all kinds of)144
703.2 R F2(strict)4.32 E F0 1.82
(smtp protocol adherence checks, which in normal life can be)4.32 F
(relax)144 715.2 Q(ed slightly)-.15 E 5(.G)-.65 G
(reat for compliance testing ;\))-5 E 2.5(2J)285.165 768 S(ul 1999)-2.5
E(1)208.165 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E(\255s [ftv)108 84 Q(eRS])-.15 E .459
(speci\214es the style of address v)144 96 R .458
(eri\214cation to be performed.)-.15 F .458
(There are four independent commands)5.458 F .95(that can in)144 108 R
-.2(vo)-.4 G 1.15 -.1(ke s).2 H .95(ome kind of address v).1 F .95
(eri\214cation, and four independent \215ags to control whether)-.15 F
(this should be done.)144 120 Q(The)5 E 2.5(ya)-.15 G(re:)-2.5 E 68.67
(fc)144 144 S(heck MAIL FR)-68.67 E(OM addresses)-.4 E 69.22(tc)144 156
S(heck RCPT T)-69.22 E 2.5(Oa)-.18 G(ddresses)-2.5 E 67(vc)144 168 S
(heck VRFY command ar)-67 E(gument)-.18 E 67.56(ec)144 180 S
(heck EXPN command ar)-67.56 E(gument)-.18 E 65.33(Rr)144 192 S
(equire addresses to be of syntax:)-65.33 E(local@remote \(strict 821\))
252 204 Q 66.44(Sa)144 216 S(llo)-66.44 E 2.5(ws)-.25 G(lopp)-2.5 E 2.5
(yi)-.1 G(nput for systems incapable to)-2.5 E
(respect RFC 821 properly; W)216 228 Q(inCE1.0 \(and 2.0\))-.4 E(does:)
216 240 Q("MAIL FR)252 252 Q(OM:user@domain" :-\()-.4 E
(The \215ags are concatenated to form the ar)144 276 Q
(gument to the \255s option.)-.18 E(The def)5 E(ault is)-.1 E/F1 10
/Times-Bold@0 SF -.1(ve)2.5 G F0(.).1 E 20.64(\255V prints)108 292.8 R
2.5(av)2.5 G(ersion message and e)-2.65 E(xits.)-.15 E/F2 9/Times-Bold@0
SF(EHLO AND 8BITMIME)72 309.6 Q F0(On)108 321.6 Q F1 1.652
(RFC 1651/1652/1653+1428)4.152 F F0 1.652(there are e)4.152 F 1.652
(xtended SMTP speci\214cations, which contain mechanism for)-.15 F 1.215
(declaring 8-bit transparent SMTP capability)108 333.6 R 3.715(,a)-.65 G
3.715(sw)-3.715 G 1.215(ell as so called SIZE e)-3.715 F 3.715
(xtension. When)-.15 F 1.215(sending SMTP)3.715 F(does)108 345.6 Q F1
(EHLO)2.592 E F0 .092(instead of)2.592 F F1(HELO)2.592 E F0 .091(it get\
s a set of responces which indicate that this system is capable on mult\
i-)2.592 F(ple things, and one of them is so called)108 357.6 Q F1
(8BITMIME)2.5 E F0(.)A F2(CONFIGURA)72 374.4 Q(TION)-.855 E F0(If the)
108 386.4 Q/F3 10/Times-Italic@0 SF(MAILSHARE/)2.5 E F1(smtpser)A -.1
(ve)-.1 G -1(r.).1 G(conf)1 E F0 -.15(ex)2.5 G
(ists it is read to con\214gure tw).15 E 2.5(ok)-.1 G(inds of things:)
-2.5 E -.92(PA)108 415.2 S(RAM \255entries).92 E(allo)144 427.2 Q 2.5
(ws)-.25 G(erv)-2.5 E(er start-time parametrization of se)-.15 E -.15
(ve)-.25 G(ral things, including:).15 E F3 2.5<ad68>144 439.2 S(elp-te)
-2.5 E(xts)-.2 E 2.5<ad61>144 451.2 S(cceptance/r)-2.5 E
(ejection database de\214nitions)-.37 E F0(The style \()108 468 Q F3
<ad73>A F0 2.5(\)o)C(ption)-2.5 E(beha)144 480 Q 1.62
(viour based on glob patterns matching the)-.2 F F1(HELO)4.121 E F0(/)A
F1(EHLO)A F0 1.621(name gi)4.121 F -.15(ve)-.25 G 4.121(nb).15 G 4.121
(yar)-4.121 G 1.621(emote client.)-4.121 F .638(Lines be)144 492 R .638
(ginning with a)-.15 F F3(#)3.138 E F0 .637(or whitespace are ignored i\
n the \214le, and all other lines must consist of)3.137 F(tw)144 504 Q
4.093(ot)-.1 G(ok)-4.093 E 1.593
(ens: a shell-style \(glob\) pattern starting at the be)-.1 F 1.594
(ginning of the line, whitespace, and a)-.15 F .749
(sequence of style \215ags.)144 516 R .748
(The \214rst matching line is used.)5.749 F .748
(As a special case, the \215ags section may)5.748 F .853(start with a)
144 528 R F3(!)3.353 E F0 .853
(character in which case the remainder of the line is a f)5.853 F .854
(ailure comment message to)-.1 F .182(print at the client.)144 540 R
.181(This con\214guration capability is intended as a w)5.182 F .181
(ay to control misbeha)-.1 F .181(ving client)-.2 F(softw)144 552 Q
(are or mailers.)-.1 E -.92(PA)108 580.8 S(RAM maxsize).92 E
(This is synon)144 592.8 Q(ym to start-time)-.15 E F3<ad4d>2.5 E F0
(option.)2.5 E -.92(PA)108 621.6 S(RAM min-a).92 E -.25(va)-.2 G
(ilspace 5000).25 E 1.804(This de\214nes, in)144 633.6 R F1(kilobytes)
4.304 E F0 4.304(,t)C 1.804(he minimum a)-4.304 F -.25(va)-.2 G 1.804
(ilable space in).25 F F1(POST)4.304 E(OFFICE)-.18 E F0 1.805
(directory after the)4.304 F(message has been accepted in.)144 645.6 Q
-.92(PA)108 674.4 S(RAM max-error).92 E(-recipients)-.2 E 3.558
(This de\214nes ho)144 686.4 R 6.057(wm)-.25 G(an)-6.057 E 6.057(yr)-.15
G 3.557(ecipients can be on a message whose source address is)-6.057 F
F1(MAIL)6.057 E(FR)144 698.4 Q(OM:<>)-.3 E F0 5(.T)C
(hat is, is an error message.)-5 E(\(Sometimes SP)5 E
(AMs are tried to inject in that form...\))-.92 E 2.5(2J)285.165 768 S
(ul 1999)-2.5 E(2)208.165 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E -.92(PA)108 84 S(RAM MaxSameIpSource).92 E
(This sets the maximum number of acti)144 96 Q .3 -.15(ve c)-.25 H
(onnections from an).15 E 2.5(yg)-.15 G -2.15 -.25(iv e)-2.5 H 2.5(ns)
.25 G(ingle IP address.)-2.5 E 1.037
(When the limit is reached, system tells the remote end:)144 120 R/F1 10
/Times-Bold@0 SF -.63(``)3.537 G 1.037(450 T).63 F 1.038
(oo many simultaneous connec-)-.92 F(tions...)144 132 Q -.63('')-.55 G
F0(\(and then closes the connection.\))5.63 E .585(When the limit is e)
144 156 R .585(xceeded by f)-.15 F .585(actor of four)-.1 F 3.085(,t)-.4
G .585(he serv)-3.085 F .585
(er just closes the connection without telling)-.15 F(an)144 168 Q
(ything.)-.15 E F1 .868(Do note that this w)144 192 R .868
(orks only when the smtpser)-.1 F -.1(ve)-.1 G 3.368(ri).1 G 3.368(sr)
-3.368 G .868(unning as its o)-3.368 F .869(wn daemon, not while)-.1 F
(run fr)144 204 Q(om under inetd!)-.18 E F0 -.92(PA)108 232.8 S
(RAM MaxP).92 E(arallelConnections)-.15 E 1.003(This limits ho)144 244.8
R 3.503(wm)-.25 G(an)-3.503 E 3.503(ys)-.15 G 1.003
(imultaneous connections the serv)-3.503 F 1.002
(er will accept in total -- e.g. ho)-.15 F 3.502(wm)-.25 G(an)-3.502 E
(y)-.15 E(childs a master serv)144 256.8 Q(er can ha)-.15 E .3 -.15
(ve r)-.2 H 2.5(unning. Def).15 F(ault v)-.1 E(alue: 800.)-.25 E .819
(Exceeding the limit by less than 100 will get a message)144 280.8 R F1
-.63(``)3.32 G .82(450 T).63 F .82(oo many simultaneous connec-)-.92 F
(tions...)144 292.8 Q -.63('')-.55 G F0 .492(printed to the connection.)
6.122 F .491(In e)5.492 F -.15(ve)-.25 G .491
(ry case the connection is closed right after the possible).15 F
(message.)144 304.8 Q F1 .868(Do note that this w)144 328.8 R .868
(orks only when the smtpser)-.1 F -.1(ve)-.1 G 3.368(ri).1 G 3.368(sr)
-3.368 G .868(unning as its o)-3.368 F .869(wn daemon, not while)-.1 F
(run fr)144 340.8 Q(om under inetd!)-.18 E F0 -.92(PA)108 369.6 S
(RAM ListenQueueSize).92 E
(This sets the listen queue size parameter for)144 381.6 Q/F2 10
/Times-Italic@0 SF(listen)2.5 E F0(\(2\) call at the serv).24 E(er)-.15
E(.)-.55 E -.92(PA)108 410.4 S(RAM TcpRcvBuf).92 E(ferSize)-.25 E
(This sets)144 422.4 Q(setsock)5 E(opt\(SO_RCVB)-.1 E 2.5(UF\) v)-.1 F
(alue, in case the system def)-.25 E(ault is not suitable.)-.1 E -.92
(PA)108 451.2 S(RAM TcpXmitBuf).92 E(ferSize)-.25 E(This sets)144 463.2
Q(setsock)5 E(opt\(SO_SNDB)-.1 E 2.5(UF\) v)-.1 F
(alue, in case the system def)-.25 E(ault is not suitable.)-.1 E -.92
(PA)108 492 S(RAM DEB).92 E(UGcmd)-.1 E -.92(PA)108 508.8 S(RAM EXPNcmd)
.92 E -.92(PA)108 525.6 S(RAM VRFYcmd).92 E 1.367(This trio \(DEB)144
537.6 R 1.367(UGcmd, EXPNcmd, VRFYcmd\) are enablers of lik)-.1 F 3.866
(en)-.1 G 1.366(amed SMTP v)-3.866 F 1.366(erbs which)-.15 F(ha)144
549.6 Q .3 -.15(ve s)-.2 H(ome uses in the deb).15 E(ug mode.)-.2 E(The)
144 573.6 Q 3.768(ya)-.15 G 1.268(re normally disabled, b)-3.768 F 1.269
(ut running them enabled does not allo)-.2 F 3.769(wd)-.25 G 1.269
(irect attacks with them.)-3.769 F(\(That we kno)144 585.6 Q 2.5(wo)-.25
G(f.\))-2.5 E -.92(PA)108 614.4 S(RAM R).92 E(OUTER-EN)-.4 E(ABLE)-.35 E
.005(This enables interacti)144 626.4 R .305 -.15(ve r)-.25 H .005
(outer use where user inputs reach the router).15 F 5.005(.A)-.55 G
2.505(st)-5.005 G .005(hings turn out, while the)-2.505 F .075
(canned scripts should be safe ag)144 638.4 R .075(ainst an)-.05 F 2.575
(ya)-.15 G .075
(nd all inputs, a careless change in the router scripts may)-2.575 F
(endanger this status.)144 650.4 Q(Per def)144 674.4 Q(ault this is)-.1
E F1(disabled)2.5 E F0(to protect your system.)2.5 E 1.893 -.8(To e)144
698.4 T .293(nable EXPN and VRFY).8 F 2.793(,t)-1.29 G .293
(his must be enabled, b)-2.793 F .293(ut be)-.2 F F1 -.1(ve)2.793 G .293
(ry car).1 F(efull)-.18 E F0 .292(when you do this.)2.793 F .292
(This is)5.292 F(also required for interacti)144 710.4 Q .3 -.15(ve r)
-.25 H(outer processing of).15 E 2.5(2J)285.165 768 S(ul 1999)-2.5 E(3)
208.165 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E -.92(PA)108 84 S(RAM SMTP-A).92 E(UTH)-.55 E .655
(This enables 'SMTP A)144 96 R .655(UTH' f)-.55 F .655(acility \(A)-.1 F
.655(UTH v)-.55 F .656(erb, plus optional parameter to MAIL v)-.15 F
3.156(erb\). W)-.15 F(ith)-.4 E .295(this the users who are able to ')
144 108 R .295(login' successfully to this host, are then able to relay\
 the email thru)-.1 F(the serv)144 120 Q(er unlimited.)-.15 E -.92(PA)
108 148.8 S(RAM No8BITMIME).92 E -.92(PA)108 165.6 S(RAM NoCHUNKING).92
E -.92(PA)108 182.4 S(RAM NoDSN).92 E -.92(PA)108 199.2 S(RAM NoEHLO).92
E -.92(PA)108 216 S(RAM NoENCHANCEDST).92 E -1.11(AT)-.93 G(US\(CODES\))
1.11 E -.92(PA)108 232.8 S(RAM NoETRN).92 E -.92(PA)108 249.6 S
(RAM NoPIPELINING).92 E 1.163(This set are)144 261.6 R/F1 10
/Times-Bold@0 SF(disablers)3.663 E F0 1.163(of lik)3.663 F 3.663(en)-.1
G 1.164(amed Extended SMTP EHLO responses, plus EHLO v)-3.663 F 1.164
(erb itself,)-.15 F 2.289(e.g. using these will turn of)144 273.6 R
4.789(fg)-.25 G -2.15 -.25(iv e)-4.789 H 4.788(n\().25 G 2.288(for e)
-4.788 F 2.288(xample `)-.15 F(`PIPELINING')-.74 E 2.288
('\) response from the EHLO)-.74 F .879(replies, and then a client poss\
ibly capable to feed PIPELINING will not do it -- unless it breaks)144
285.6 R(rules, and does it e)144 297.6 Q -.15(ve)-.25 G 2.5(nw).15 G
(hen the serv)-2.5 E(er does not report f)-.15 E(acility being a)-.1 E
-.25(va)-.2 G(ilable.).25 E .68(If you w)144 321.6 R .68
(ant to disable an)-.1 F 3.18(yo)-.15 G 3.18(ft)-3.18 G .68
(hese, you better ha)-3.18 F .98 -.15(ve a g)-.2 H .68
(ood reason for it, as in general the).15 F 3.18(yw)-.15 G(ork)-3.28 E
(quite \214ne.)144 333.6 Q
(Of these, 8BITMIME can not in reality be disabled, only its adv)144
357.6 Q(erticement can be turned of)-.15 E(f.)-.25 E -.92(PA)108 386.4 S
(RAM polic).92 E(ydb)-.15 E .581(This de\214nes smtp input polic)144
398.4 R 3.081<798c>-.15 G .581(ltering/analysis database location.)
-3.081 F .582(See the comments at the sam-)5.582 F(ple)144 410.4 Q/F2 10
/Times-Italic@0 SF(pr)2.5 E(oto/db/smtp-policy)-.45 E(.sr)-.55 E(c)-.37
E F0(\214le.)2.5 E(Here is a possible con\214guration \214le:)108 439.2
Q/F3 10/Courier@0 SF(#)144 475.2 Q 6(#s)144 487.2 S
(mtpserver.conf - autogenerated edition)-6 E(#)144 499.2 Q
(#PARAM maxsize)144 511.2 Q(10000000 # Same as -M -option)48 E
(#PARAM max-error-recipients)144 523.2 Q 6(3#M)12 G
(ore than this is propably SPAM!)-6 E(#PARAM MaxSameIpSource)144 535.2 Q
(10 # Max simultaneous connections)36 E 180(##)144 547.2 S
(from any IP source address)-174 E
(#PARAM MaxParallelConnections 800 # Max simultaneous connections)144
559.2 Q 180(##)144 571.2 S(in total to the server)-174 E
(#PARAM TcpRcvBufferSize)144 583.2 Q(32000 # Should not need to set!)12
E(#PARAM TcpXmitBufferSize 32000 # Should not need to set!)144 595.2 Q
(#)144 607.2 Q(#PARAM ListenQueueSize)144 619.2 Q
(10 # listen\(2\) parameter)36 E(#)144 631.2 Q(#PARAM RcptLimitCount)144
643.2 Q(10000 # Max number of recipients for one)24 E 180(##)144 655.2 S
(MAIL FROM session. Minimum: 100)-174 E(#)144 667.2 Q 6(#E)144 679.2 S
(nables of some commands:)-6 E 6(#PARAM DEBUGcmd)144 691.2 R 12
(PARAM EXPNcmd)144 703.2 R 12(PARAM VRFYcmd)144 715.2 R 6
(#PARAM enable-router)144 727.2 R F0 2.5(2J)285.165 768 S(ul 1999)-2.5 E
(4)208.165 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10/Courier@0 SF 90(##)144 84 S
(This is a security decission for you.)-84 E 90(##)144 96 S
(This is needed for EXPN/VRFY and interactive)-84 E 90(##)144 108 S
(processing of MAIL FROM and RCPT TO addresses.)-84 E 90(##)144 120 S
(However it also may allow external user entrance)-84 E 90(##)144 132 S
(to ZMailer router shell environment with suitably)-84 E 90(##)144 144 S
(pervert input, if quotation rules are broken in)-84 E 90(##)144 156 S
(the scripts.)-84 E(#)144 168 Q 6(#PARAM smtp-auth)144 180 R 90(##)144
192 S(enable if you want to allow SMTP to autenticate)-84 E 90(##)144
204 S(with the default code against system)-84 E(/etc/passwd)12 E 90(##)
144 216 S(\(or whatever source)-84 E(getpwnam\(\) uses for it..\))12 E
(#)144 228 Q 6(#D)144 240 S(isablers of some facility adverticements)-6
E 6(#PARAM NoEHLO)144 252 R(#PARAMNoPIPELINING)144 264 Q
(#PARAMNo8BITMIME)144 276 Q(#PARAMNoCHUNKING)144 288 Q 6(#PARAM NoDSN)
144 300 R 6(#PARAM NoETRN)144 312 R 6(#PARAM no-multiline-replies)144
324 R 6(#e)6 G(xcept to EHLO)-6 E(#)144 336 Q 6(#H)144 348 S
(DR220 metatags:)-6 E 12(#%)144 360 S 6(%-)-12 G 6(-')-6 G(%' character)
-6 E 12(#%)144 372 S 6(H-)-12 G 6(-S)-6 G(S->myhostname)-6 E 12(#%)144
384 S 6(I-)-12 G 6(-')-6 G(+IDENT' if 'identflg' is set)-6 E 12(#%)144
396 S 6(V-)-12 G 6(-V)-6 G(ersionNumb)-6 E 12(#%)144 408 S 6(T-)-12 G 6
(-c)-6 G(urtime string)-6 E 12(#%)144 420 S 6(X-)-12 G 6(-x)-6 G
(latelang parameter)-6 E(#)144 432 Q
(#PARAM hdr220 %H ZMailer ESMTP-server %V running at Yoyodyne Inc.)144
444 Q(#PARAM hdr220 %H \(NO UCE\)\(NO UBE\) our local time is now %T)144
456 Q(#)144 468 Q
(PARAM help ------------------------------------------------------)144
480 Q(PARAM help)144 492 Q
(This mail-server is at Yoyodyne Propulsion Inc.)12 E(PARAM help)144 504
Q(Our telephone number is: +1-234-567-8900, and)12 E(PARAM help)144 516
Q(telefax number is: +1-234-567-8999)12 E(PARAM help)144 528 Q
(Our business-hours are Mon-Fri: 0800-1700 \(TZ: -0700\))12 E
(PARAM help)144 540 Q(PARAM help)144 552 Q
(Questions regarding our email service should be sent)12 E(PARAM help)
144 564 Q(via email to address)12 E(<postmaster@OURDOMAIN>)12 E
(PARAM help)144 576 Q
(Reports about abuse are to be sent to: <abuse@OURDOMAIN>)12 E
(PARAM help ------------------------------------------------------)144
588 Q(#)144 600 Q 6(#U)144 612 S
(ncomment following for not to strip incoming addresses of)-6 E 6(#f)144
624 S(orm: <@aa,@bb:cc@dd> into non-source-routed base form: <cc@dd>)-6
E(#)144 636 Q 6(#PARAM allowsourceroute)144 648 R(#)144 660 Q 12
(PARAM accept-percent-kludge)144 672 R 6(#")6 G
(localpart" can contain '%' and '!')-6 E 6(#PARAM reject-percent-kludge)
144 684 R 6(#")6 G(localpart" can't contain)-6 E(--"--)12 E(#)144 696 Q
6(#T)144 708 S
(he policy database: \(NOTE: See `makedb' for its default suffixes!\))-6
E(#)144 720 Q F0 2.5(2J)285.165 768 S(ul 1999)-2.5 E(5)208.165 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(SMTPSER)72 48 Q 314.86(VER\(8\) SMTPSER)-.8 F
(VER\(8\))-.8 E/F1 10/Courier@0 SF 6(PARAM policydb)144 84 R 6
(@DBTYPE@ @MAILVAR@/db/smtp-policy)18 F(#)144 108 Q(#)144 120 Q 6(#H)144
132 S 24(ELO/EHLO-pattern style-flags)-6 F 90(#[)144 144 S(max loadavg])
-90 E(#)144 156 Q 60(localhost 999)144 168 R(ftveR)6 E 18
(some.host.domain 999)144 180 R(!NO EMAIL ACCEPTED FROM YOUR MACHINE)6 E
6(#I)144 192 S 6(ft)-6 G(he host presents itself as:)-6 E
(HELO [1.2.3.4])12 E(be lenient to)12 E 6(#i)144 204 S 6(t.. The)-6 F
(syntax below is due to these patterns being SH-GLOB)6 E 6(#s)144 216 S
(tyle patterns where the brackets are special characters.)-6 E 72
(\\[*\\] 999)144 228 R(ve)6 E 6(#P)144 240 S
(er default demant strict syntactic adherence, including fully)-6 E 6
(#q)144 252 S(ualified addresses for)-6 E(MAIL FROM, and RCPT TO.)12 E
(To be lenient)12 E 6(#o)144 264 S 6(nt)-6 G
(hat detail, remove the "R" from "veR" string below:)-6 E 114(*9)144 276
S(99 veR)-114 E/F2 9/Times-Bold@0 SF(TCP-WRAPPER AND SMTPSER)72 304.8 Q
(VER)-.495 E F0 .443(If the ZMailer system is con\214gured with tcp-wra\
pper code, then service-id "smtp-recei)108 316.8 R -.15(ve)-.25 G 2.943
("i).15 G 2.943(sl)-2.943 G(ook)-2.943 E .443(ed for all)-.1 F
(those addresses that are allo)108 328.8 Q(wed to feed smtp email in.)
-.25 E(Usually this mode of operation is not used, and "hosts.allo)108
345.6 Q(w" \214le contains entry:)-.25 E(smtp-recei)113 362.4 Q .3 -.15
(ve : A)-.25 H(LL@ALL).15 E(Alternati)108 379.2 Q -.15(ve)-.25 G(ly).15
E 3.222(,a)-.65 G .723
(ll the functions which tcp-wrapper could supply are also a)-3.222 F
-.25(va)-.2 G .723(ilable thru the polic).25 F 3.223(yd)-.15 G(atabase)
-3.223 E(machinery)108 391.2 Q(.)-.65 E F2(FILES)72 408 Q/F3 10
/Times-Italic@0 SF(/etc/zmailer)108 420 Q(.conf)-1.11 E
(/var/spool/postof)108 432 Q(\214ce/.pid.smtpserver \(POST)-.18 E
(OFFICE/.pid.smtpserver\))-.18 E(/local/shar)108 444 Q
(e/mail/smtpserver)-.37 E(.conf \(MAILSHARE/smtpserver)-1.11 E(.conf\))
-1.11 E F2(SEE ALSO)72 460.8 Q F0(router\(8\))108 472.8 Q
(RFC821, RFC1123, RFC1651, RFC1652, RFC1653, RFC1428)108 484.8 Q F2 -.45
(AU)72 501.6 S(THOR).45 E F0(This program authored and cop)108 513.6 Q
(yright by:)-.1 E(Rayan Zachariassen \(w)108 525.6 Q(as at U of T)-.1 E
(oronto\))-.8 E(RFC165* \(and se)108 537.6 Q -.15(ve)-.25 G
(ral other\) e).15 E(xtensions by)-.15 E(Matti Aarnio)108 549.6 Q
(<mea@nic.funet.\214>)5 E 2.5(2J)285.165 768 S(ul 1999)-2.5 E(6)208.165
E EP
%%Trailer
end
%%EOF
