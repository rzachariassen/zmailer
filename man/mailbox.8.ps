%!PS-Adobe-3.0
%%Creator: groff version 1.10
%%CreationDate: Wed Apr  8 16:54:59 1998
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.10 0
%%Pages: 4
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.10 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(MAILBO)72 48 Q 349.66(X\(8\) MAILBO)-.4 F
(X\(8\))-.4 E/F1 9/Times-Bold@0 SF -.18(NA)72 84 S(ME).18 E F0
(mailbox \255 zmailer local deli)108 96 Q -.15(ve)-.25 G
(ry transport agent).15 E F1(SYNOPSIS)72 112.8 Q/F2 10/Times-Bold@0 SF
(mailbox)108 124.8 Q F0([)2.5 E F2<ad38>2.5 E F0 2.5(][)2.5 G F2<ad4d>A
F0 2.5(][)2.5 G F2<ad63>A/F3 10/Times-Italic@0 SF -.15(ch)2.5 G(annel)
.15 E F0 2.5(][)2.5 G F2<ad68>A F3(localpart)2.5 E F0 2.5(][)2.5 G F2
<ad6c>A F3(lo)2.5 E(g\214le)-.1 E F0 2.5(][)2.5 G F2<ad56>A(abrHDP)-.92
E F0(])2.5 E F1(DESCRIPTION)72 141.6 Q F3(mailbox)108 153.6 Q F0 .29
(is a ZMailer transport agent which is usually only run by the)2.79 F F3
(sc)2.79 E(heduler)-.15 E F0 .29(\(8\) program to deli).73 F -.15(ve)
-.25 G 2.79(rm).15 G(ail)-2.79 E 1.083(to local user mailbox \214les.)
108 165.6 R(The)6.083 E F3(mailbox)3.583 E F0 1.083
(program must be run with root pri)3.583 F(vile)-.25 E 1.083(ges and in)
-.15 F -.2(vo)-.4 G -.1(ke).2 G 3.583(dw).1 G 1.083(ith the)-3.583 F
(same current directory as the)108 177.6 Q F3(sc)2.5 E(heduler)-.15 E F0
2.5(,n).73 G(amely)-2.5 E F3(POST)2.5 E(OFFICE)-.18 E F2(/transport)A F0
(.)A(Recipient addresses are processed as follo)108 194.4 Q(ws:)-.25 E
2.5<ad53>144 211.2 S(trip doublequotes around the address, if an)-2.5 E
-.65(y.)-.15 G 2.5<ad53>144 228 S(trip pre\214xing backslashes, if an)
-2.5 E -.65(y.)-.15 G 3.705<ad49>144 244.8 S 3.705(ft)-3.705 G 1.204(he\
 address starts with a '|', the rest of the recipient address string is\
 interpreted as a shell)-3.705 F(command to be run.)144 256.8 Q 2.5
<ad49>144 273.6 S 2.5(ft)-2.5 G(he address starts with a '/', the recip\
ient address is a \214lename to append the message to.)-2.5 E 2.5<ad4f>
144 290.4 S(therwise the recipient address must be a local user id.)-2.5
E 3.014<ad49>144 307.2 S 3.014(fu)-3.014 G .514(ser is not found, and t\
he \214rst character of the address is a capital letter)-3.014 F 3.015
(,t)-.4 G .515(he entire address is)-3.015 F(folded to lo)144 319.2 Q
(wercase and the user lookup is retried.)-.25 E .188(If deli)108 336 R
-.15(ve)-.25 G .187(ring to a user mailbox \().15 F F2(MAILBO)A(X)-.4 E
F0(/)A F3(userid)A F0 2.687(\)w)C .187(hich doesn')-2.687 F 2.687(te)
-.18 G(xist,)-2.837 E F3(mailbox)2.687 E F0 .187(will try to create it.)
2.687 F .187(If the)5.187 F F2(MAILBO)108 348 Q(X)-.4 E F0 .275(directo\
ry is mounted from a remote system this will succeed if the directory i\
s group-writable.)2.774 F(Some sanity checks are done on deli)108 364.8
Q -.15(ve)-.25 G(ries to \214les and mailbox).15 E(es:)-.15 E 2.5<ad54>
144 381.6 S(he \214le being deli)-2.5 E -.15(ve)-.25 G(red to must ha)
.15 E .3 -.15(ve 1 l)-.2 H(ink only).15 E 2.5(,a)-.65 G
(nd must be either /de)-2.5 E(v/null or a re)-.25 E(gular \214le.)-.15 E
2.5<ad54>144 398.4 S(he \214le lock must be held.)-2.5 E(\(See belo)5 E
2.5(wf)-.25 G(or a chapter about locks.\))-2.5 E .461
(There is a further sanity check on mailbox deli)108 415.2 R -.15(ve)
-.25 G .46(ries, namely if the mailbox is not empty the).15 F F3
(mailbox)2.96 E F0(pro-)2.96 E .505(gram will enforce 2 ne)108 427.2 R
.506(wlines as a separator before the message to be deli)-.25 F -.15(ve)
-.25 G 3.006(red. This).15 F .506(guarantees that User)3.006 F .155
(Agents, lik)108 439.2 R(e)-.1 E F3(Mail)2.655 E F0 .155
(\(1\), can \214nd the about-to-be deli).51 F -.15(ve)-.25 G .154
(red message e).15 F -.15(ve)-.25 G 2.654(ni).15 G 2.654(ft)-2.654 G
.154(he current contents of the mailbox)-2.654 F(is corrupt.)108 451.2 Q
.187(When deli)108 468 R -.15(ve)-.25 G .187
(ring to a process \(by starting a Bourne shell to e).15 F -.15(xe)-.15
G .187(cute a speci\214ed command line\), the en).15 F(viron-)-.4 E
1.421(ment is set up to contain)108 480 R F2 -.74(PA)3.921 G(TH)-.21 E
F0(,)A F2(SHELL)3.921 E F0(,)A F2(HOME)3.921 E F0(,)A F2(USER)3.921 E F0
(,)A F2(SENDER)3.921 E F0 3.92(,a)C(nd)-3.92 E F2(UID)3.92 E F0(en)3.92
E 1.42(vironment v)-.4 F(ariables.)-.25 E(The)108 492 Q F2(HOME)4.446 E
F0(and)4.446 E F2(USER)4.446 E F0 -.25(va)4.446 G 1.947
(lues are the recipient user').25 F 4.447(sh)-.55 G 1.947
(ome directory and login id respecti)-4.447 F -.15(ve)-.25 G(ly).15 E
6.947(.T)-.65 G(he)-6.947 E F2(SENDER)108 504 Q F0 -.25(va)3.359 G .859
(lue is the sender address for the message \(as it w).25 F .858
(ould appear in a From_ line\), and the)-.1 F F2(UID)3.358 E F0 -.25(va)
108 516 S 1.075(lue is the o).25 F 1.075(wner id of the process.)-.25 F
(The)6.075 E F2(SIGINT)3.575 E F0(and)3.575 E F2(SIGHUP)3.575 E F0 1.076
(signals are ignored, b)3.575 F(ut)-.2 E F2(SIGTERM)3.576 E F0(is)3.576
E .734(treated normally)108 528 R 5.734(.I)-.65 G 3.234(ft)-5.734 G .734
(he process dumps core, it will be retried later)-3.234 F 5.733(.O)-.55
G .733(therwise an)-5.733 F 3.233(yn)-.15 G .733(on-zero e)-3.233 F .733
(xit status is)-.15 F(tak)108 540 Q(en as a permanent f)-.1 E
(ailure and will result in an error message back to the sender)-.1 E(.)
-.55 E .8(The actual data deli)108 556.8 R -.15(ve)-.25 G .8
(red to a \214le, mailbox, or process, is identical.).15 F .801
(It consists of the concationation of a)5.801 F .373(UUCP style separat\
or line, the message header speci\214ed in the message control \214le, \
and the message body)108 568.8 R .107(from the original message \214le.)
108 580.8 R .107(The separator line starts with "From " and is follo)
5.107 F .108(wed by the sender address)-.25 F(and a timestamp.)108 592.8
Q 1.322(After all deli)108 609.6 R -.15(ve)-.25 G 1.322
(ries and just before e).15 F 1.321(xiting, the)-.15 F F3(mailbox)3.821
E F0 1.321(process will pok)3.821 F(e)-.1 E F3(comsat)3.821 E F0 1.321
(\(8C\) in case recipients).68 F(ha)108 621.6 Q .61 -.15(ve t)-.2 H .31
(urned on).15 F F3(bif)2.81 E(f)-.18 E F0 2.81(\(1\). The)1.96 F .311(p\
rogram may be compiled to look in the rwho \214les on the system for re\
cipient)2.81 F .143
(names logged onto neighbouring hosts, in which case the)108 633.6 R F3
(comsat)2.643 E F0 .143(on the remote host will be pok)2.643 F 2.642
(ed. Ev)-.1 F .142(en if)-.15 F 1.105(this compile-time option is enabl\
ed, this will only be done for users that ha)108 645.6 R 1.405 -.15
(ve a)-.2 H F2(.rbiff)3.755 E F0 1.105(\214le in their home)3.605 F
(directory)108 657.6 Q 5(.\()-.65 G(Unless an '-DRBIFF_AL)-5 E -1.15
-1.2(WA Y)-.74 H(S' compile option is used.\))1.2 E F1(OPTIONS)72 674.4
Q F0<ad63>108 686.4 Q F3 -.15(ch)2.5 G(annel).15 E F0
(speci\214es which channel name should be k)144 698.4 Q -.15(ey)-.1 G
(ed on.).15 E(The def)5 E(ault is)-.1 E F2(local)2.5 E F0(.)A 2.5(8A)
283.225 768 S(pr 1998)-2.5 E(1)206.225 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(MAILBO)72 48 Q 349.66(X\(8\) MAILBO)-.4 F
(X\(8\))-.4 E<ad68>108 84 Q/F1 10/Times-Italic@0 SF("localpart")2.5 E F0
1.482
(speci\214es which of the possible multiple recipients is to be pick)144
96 R 1.482(ed this time. Def)-.1 F 1.482(ault is "none",)-.1 F .975
(which selects all local channel recipients, ho)144 108 R(we)-.25 E -.15
(ve)-.25 G 3.475(rw).15 G .975
(hen the routing is done with scripts storing)-3.475 F .549(some tok)144
120 R .549(ens \(other than "\255"\) into the "host"-part, it is possib\
le to process "host-wise", i.e. so that)-.1 F(each)144 132 Q/F2 10
/Times-Bold@0 SF(user)2.5 E F0(has his/her o)2.5 E
(wn lock-state, and not just e)-.25 E -.15(ve)-.25 G
(rybody hang on the same lock\(s\)..).15 E<ad6c>108 148.8 Q F1(lo)2.5 E
(g\214le)-.1 E F0 .579(speci\214es a log\214le.)144 160.8 R .579
(Each entry is a line containing message id, pre-e)5.579 F .58
(xisting mailbox size in bytes,)-.15 F
(number of bytes appended, and the \214le name or command line deli)144
172.8 Q -.15(ve)-.25 G(red to.).15 E 20.64(\255V prints)108 189.6 R 2.5
(av)2.5 G(ersion message and e)-2.65 E(xits.)-.15 E 23.42(\255a the)108
206.4 R .339(access time on mailbox \214les is, by def)2.839 F .339
(ault, preserv)-.1 F .339(ed across deli)-.15 F -.15(ve)-.25 G(ry).15 E
2.839(,s)-.65 G 2.838(ot)-2.839 G .338(hat programs such as)-2.838 F F1
(lo)144 218.4 Q(gin)-.1 E F0(\(1\) can determine if ne).24 E 2.5(wm)-.25
G(ail has arri)-2.5 E -.15(ve)-.25 G 2.5(d. This).15 F
(option disables the abo)2.5 E .3 -.15(ve a)-.15 H(ction.).15 E 22.86
(\255b disables)108 235.2 R(bif)2.5 E 2.5(fn)-.25 G(oti\214cation.)-2.5
E 24.53(\255r disables)108 252 R(remote bif)2.5 E 2.5(fn)-.25 G
(oti\214cation \(if supported\).)-2.5 E 22.86(\2558 enables)108 268.8 R
2.634(MIME-QP-decoder to decode incoming MIME-email with Quoted-Printab\
le encoded)5.133 F(characters.)144 280.8 Q 18.97(\255M enables)108 297.6
R .267
(the creation of MMDF-style mail-folder in the incoming mail folder)
2.768 F 5.267(.T)-.55 G .267(he def)-5.267 F .267(ault is "clas-)-.1 F
(sic" UNIX-style folder)144 309.6 Q(.)-.55 E 6.76(\255D[D] F)108 326.4 R
.302(or a user with is)-.15 F F1(abcdef)2.802 E F0 2.802(,o)1.96 G(ne)
-2.802 E F1<ad44>2.802 E F0 .302
(will place the mailbox \214le into directory)2.802 F F1($MAILBO)2.802 E
(X/a/abcdef)-.4 E F0(.)1.96 E -.4(Wi)144 338.4 S(th).4 E F1(\255DD)2.5 E
F0(the mailbox \214le will be placed into directory:)2.5 E F1($MAILBO)
2.5 E(X/a/b/abcdef)-.4 E F0(.)1.96 E 10.08(\255P[P] This)108 355.2 R
.808(uses much of similar method as)3.308 F F1(\255D[D])3.308 E F0 .808
(option, b)3.308 F .808(ut directory names are deri)-.2 F -.15(ve)-.25 G
3.308(df).15 G .808(rom much)-3.308 F(more smoothly distrib)144 367.2 Q
(uting hash function o)-.2 E -.15(ve)-.15 G 2.5(ru).15 G
(ser names, namely:)-2.5 E F1(pjwhash32\(\))2.5 E F0(.).06 E -.4(Wi)144
391.2 S .315(th one).4 F F1<ad50>2.815 E F0 2.816(,t).44 G .316
(he calculated hash v)-2.816 F .316(alue is used by formula:)-.25 F F1
('A)2.816 E .316('+\(hash % 26\))-.37 F F0 .316(to produce one mid-)
2.816 F(le)144 403.2 Q -.15(ve)-.25 G 2.525(ld).15 G(irectory)-2.525 E
5.025(.W)-.65 G(ith)-5.425 E F1(\255PP)2.525 E F0 .025
(the formula is more comple)2.525 F .025
(x: upper directory uses formula:)-.15 F F1('A)2.524 E 2.524('+\()-.37 G
(hash)-2.524 E 2.5(/2)144 415.2 S(6\) % 26)-2.5 E F0(and lo)2.5 E
(wer uses formula:)-.25 E F1('A)2.5 E('+\(hash % 26\))-.37 E F0 1.127
(The result of these)144 439.2 R F1(\255P[P])3.627 E F0(deri)3.627 E
-.15(ve)-.25 G 3.627(dd).15 G 1.128(irectory paths is something lik)
-3.627 F(e:)-.1 E F1($MAILBO)3.628 E(X/X/username)-.4 E F0(or)3.628 E F1
($MAILBO)144 451.2 Q(X/Y/X/username)-.4 E/F3 9/Times-Bold@0 SF(INTERF)72
468 Q -.495(AC)-.81 G(E).495 E F0 1.525
(This program reads in processable \214le names relati)108 480 R 1.825
-.15(ve t)-.25 H 4.025(ot).15 G 1.525(he current w)-4.025 F 1.524
(orking directory of the scheduler)-.1 F(\(namely:)108 492 Q F1
($POSTIOFFICE/tr)2.932 E(ansport/)-.15 E F0 2.932(\). Optionally)B .433
(on the same line the scheduler may tell which host is to)2.933 F
(be look)108 504 Q(ed for from the recipients of the message.)-.1 E F1
-.37(re)144 528 S(lative-spool-path).37 E F0 2.5([<)2.5 G -.93(TA)-2.5 G
(B>).93 E F1(hostname)2.5 E F0(])2.5 E
(This program produces diagnostic output on the standard output.)108
544.8 Q(Normal diagnostic output is of the form:)5 E F1(id)144 568.8 Q
F0(/)A F1(of)A(fset)-.18 E F0(<T)A(AB>)-.93 E F1(notify-data)A F0(<T)A
(AB>)-.93 E F1(status messa)A -.1(ge)-.1 G F0(where)108 592.8 Q F1(id)
3.666 E F0 1.166(is the inode number of the message \214le,)3.666 F F1
(of)3.666 E(fset)-.18 E F0 1.165(is a byte of)3.665 F 1.165
(fset within its control \214le where the)-.25 F .915
(address being reported on is k)108 604.8 R(ept,)-.1 E F1(status)3.415 E
F0 .915(is one of)3.415 F F2(ok)3.415 E F0(,)A F2(err)3.415 E(or)-.18 E
F0 3.415(,o)C(r)-3.415 E F2(deferr)3.415 E(ed)-.18 E F0 3.415(,a)C .915
(nd the)-3.415 F F1(messa)3.415 E -.1(ge)-.1 G F0 .915(is descripti)
3.515 F -.15(ve)-.25 G(te)108 616.8 Q .85
(xt associated with the report.)-.15 F .85(The te)5.85 F .85
(xt is terminated by a linefeed.)-.15 F(An)5.85 E 3.35(yo)-.15 G .85
(ther format \(as might be pro-)-3.35 F(duced by subprocesses\) is pass\
ed to standard output for logging in the)108 628.8 Q F2(scheduler)2.5 E
F0(log.)2.5 E(The e)108 645.6 Q(xit status is a code from)-.15 E F2
(<sysexits.h>)2.5 E F0(.)A F3(LOCKS)72 674.4 Q F0 1.016(Locking scheme \
used at the system is con\214gurable at the runtime, and has separate p\
arameters for mail-)108 686.4 R(box)108 698.4 Q .113(es, and \214les.)
-.15 F .112(The data is con\214gurable with zen)5.112 F 2.612(vv)-.4 G
(ariable)-2.862 E F2(MBO)2.612 E(XLOCKS)-.4 E F0 .112(at which follo)
2.612 F .112(wing characters)-.25 F(ha)108 710.4 Q .3 -.15(ve m)-.2 H
(eanins:).15 E 2.5(8A)283.225 768 S(pr 1998)-2.5 E(2)206.225 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(MAILBO)72 48 Q 349.66(X\(8\) MAILBO)-.4 F
(X\(8\))-.4 E 24.06(`:' Separates)108 84 R .134
(mailbox locks, and \214le-locks at the string.)2.634 F .135
(The left side has mailbox locks, and the right)5.134 F
(side has locks for other re)144 96 Q(gular \214les. \(Files with e)-.15
E(xplicite paths de\214ned.\))-.15 E(`.)108 112.8 Q 27.54('F)-.7 G
(or mailbox)-27.69 E(es only: Does `)-.15 E(`dotlock')-.74 E 2.5('\()
-.74 G(userid.lock\), or \(at Sun Solaris\) maillock\(\) mechanism.)-2.5
E 21.28(`F' If)108 129.6 R 1.173(the system has)3.673 F/F1 10
/Times-Italic@0 SF(\215oc)3.673 E(k\(\))-.2 E F0 1.173
(system call, uses it to lock the entire \214le.)3.673 F F1(\(Ignor)
6.173 E 1.173(ed at systems without)-.37 F(\215oc)144 141.6 Q(k\(\)!\))
-.2 E F0(`L)108 158.4 Q 24.15('I)-.92 G 3.64(ft)-24.15 G 1.14
(he system has)-3.64 F F1(loc)3.64 E(kf\(\))-.2 E F0 1.14
(system call, uses it to lock the entire \214le.)3.64 F F1(\(Ignor)6.14
E 1.14(ed at systems without)-.37 F(loc)144 170.4 Q(kf\(\)!\))-.2 E F0
(Locks are acquired in the same order as the k)108 187.2 Q .3 -.15(ey c)
-.1 H(haracters are listed.).15 E(Def)108 204 Q
(ault for the lockf\(\) capable systems is:)-.1 E/F2 10/Times-Bold@0 SF
(MBO)108 220.8 Q(XLOCKS=".L:L")-.4 E F0 -1.1(Yo)108 237.6 S 4.569(uc)1.1
G 2.069(an choose insane combinations of lock mechanisms, which at some\
 systems cause locks to f)-4.569 F(ail)-.1 E(al)108 249.6 Q -.1(wa)-.1 G
(ys, lik).1 E 2.5(ea)-.1 G 2.5(tL)-2.5 G(inux-2.0 series where program \
must not use both lockf\(\) and \215ock\(\) locks.)-2.5 E F1 .079
(It is e)108 266.4 R(xtr)-.2 E .079(emely important, that selected loc)
-.37 F .079(king methods ar)-.2 F 2.579(es)-.37 G .079(ame thr)-2.579 F
.08(oughout the system at all pr)-.45 F -.1(og)-.45 G -.15(ra).1 G .08
(ms try-).15 F(ing to acquir)108 278.4 Q 2.5(el)-.37 G(oc)-2.5 E
(ks on mail spools.)-.2 E/F3 9/Times-Bold@0 SF(ENVIR)72 295.2 Q(ONMENT)
-.27 E F0 6.098(The def)108 307.2 R 6.098
(ault location for user mailbox \214les v)-.1 F 6.098
(aries per systems, b)-.25 F 6.098(ut usually it is one of:)-.2 F F2(/v)
108 319.2 Q(ar/mail)-.1 E F0(,)A F2(/v)2.5 E(ar/spool/mail)-.1 E F0 3.18
(,T)C .68(his may be modi\214ed by setting the v)-3.18 F(ariable)-.25 E
F2(MAILBO)3.18 E(X)-.4 E F0(in)3.18 E F2(/etc/zmailer)3.18 E(.conf)-1 E
F0 2.256(to the directory containing user mailbox \214les, for e)108
331.2 R(xample)-.15 E F2(/usr/spool/mail)4.755 E F0 7.255(.T)C 2.255
(his is best done in the)-7.255 F(ZMailer SiteCon\214g \214le.)108 343.2
Q -1.11(Va)108 360 S(riable)1.11 E F2(MBO)2.774 E(XLOCKS)-.4 E F0 .274(\
is used to de\214ne locking schemes used for mailbox spool \214les, and\
 separately for)2.774 F(other re)108 372 Q(gular \214les.)-.15 E F3
(SECURITY)72 388.8 Q F0(Lik)108 400.8 Q 3.03(ea)-.1 G .53
(ll parts of the)-3.03 F F1(ZMailer)3.03 E F0 3.03(,t).73 G(he)-3.03 E
F1(mailbox)3.03 E F0 .529(chooses to err into o)3.03 F -.15(ve)-.15 G
.529(rtly cautious side.).15 F .529(In case of pipes being)5.529 F .351
(run under the)108 412.8 R F1(mailbox)2.852 E F0 2.852(,t).53 G .352
(he program in pipe is started thru)-2.852 F F1(/bin/sh)2.852 E F0 .352
(with se)2.852 F -.15(ve)-.25 G .352(rely sanitized en).15 F .352
(vironment v)-.4 F(ari-)-.25 E .24
(ables, and with only \214le descriptors STDIN, STDOUT)108 424.8 R 2.739
(,a)-.74 G .239(nd STDERR.)-2.739 F .239
(Programs are refused from running,)5.239 F 1.461
(if address analysis has found suspicuous data; e)108 436.8 R 1.461
(xternal messages can')-.15 F 3.962(td)-.18 G 1.462
(irectly run programs, nor those)-3.962 F .783(addresses that ha)108
448.8 R 1.083 -.15(ve h)-.2 H .783(ad a security breach detected during\
 \(Same applies also with writing into e).15 F(xplicitely)-.15 E
(named \214les.\))108 460.8 Q .46(The pipe subprogram is run with user)
108 477.6 R .461(-id it gets thru the address pri)-.2 F(vile)-.25 E .461
(ge analysis during message routing,)-.15 F .386
(and it gets the group-id thru lookup of:)108 489.6 R 2.885
(getpwuid\(uid\). That)5.385 F .385(is, if you ha)2.885 F .685 -.15
(ve m)-.2 H .385(ultiple usernames with same).15 F(uid, there are no gu\
arantees as to which of them is used for the gid entry)108 501.6 Q(.)
-.65 E F3(SUBPR)72 518.4 Q(OGRAM ENVIR)-.27 E(ONMENT V)-.27 E(ARIABLES)
-1.215 E F0(The)108 530.4 Q F1(mailbox)2.5 E F0(sets follo)2.5 E
(wing en)-.25 E(vironment v)-.4 E
(ariables for the subprograms it runs in the pipes:)-.25 E 4.06
(HOME The)108 547.2 R(homedirectory path is tak)2.5 E(en from abo)-.1 E
-.15(ve)-.15 G(mentioned).15 E F1 -.1(ge)2.5 G(tpwuid\(\)).1 E F0
(lookup.)2.5 E 7.94(USER Lik)108 564 R -.25(ew)-.1 G(ise the te).25 E
(xtual username.)-.15 E(SENDER)108 580.8 Q 1.09
(is the incoming "MAIL FR)144 592.8 R 1.09
(OM:<..>" address without brack)-.4 F 3.59(ets. F)-.1 F 1.09
(or an incoming error message,)-.15 F -.25(va)144 604.8 S
(lue "<>" is used.).25 E(ORCPT)108 621.6 Q 1.253
(when present, is the XTEXT encoded ORCPT v)144 633.6 R 1.253
(alue recei)-.25 F -.15(ve)-.25 G 3.753(da).15 G 3.753(tt)-3.753 G 1.253
(he message injection into this)-3.753 F 2.5(system. See)144 645.6 R
(RFC 1891 for details.)2.5 E(ENVID)108 662.4 Q .004
(when present, is the XTEXT encoded ENVID v)144 674.4 R .004(alue recei)
-.25 F -.15(ve)-.25 G 2.504(da).15 G 2.504(tt)-2.504 G .004
(he message injection into this sys-)-2.504 F 2.5(tem. See)144 686.4 R
(RFC 1891 for details.)2.5 E(ZCONFIG)108 703.2 Q
(is the location of the ZMailer ZENV \214le.)144 715.2 Q 2.5(8A)283.225
768 S(pr 1998)-2.5 E(3)206.225 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(MAILBO)72 48 Q 349.66(X\(8\) MAILBO)-.4 F
(X\(8\))-.4 E(MAILBIN)108 84 Q(is the v)144 96 Q(alue from ZENV)-.25 E
(.)-1.29 E(MAILSHARE)108 112.8 Q(is the v)144 124.8 Q(alue from ZENV)
-.25 E(.)-1.29 E/F1 9/Times-Bold@0 SF(FILES)72 141.6 Q/F2 10
/Times-Italic@0 SF(/etc/zmailer)108 153.6 Q(.conf)-1.11 E
(/var/spool/postof)108 165.6 Q(\214ce \(POST)-.18 E(OFFICE\))-.18 E
(/var/mail \(MAILBO)108 177.6 Q(X\))-.4 E F1(SEE ALSO)72 194.4 Q F0
(scheduler\(8\), comsat\(8C\), bif)108 206.4 Q
(f\(1\), \215ock\(2\), Mail\(1\), mboxpath\(1\))-.25 E F1 -.45(AU)72
223.2 S(THOR).45 E F0(This program authored and cop)108 235.2 Q
(yright by:)-.1 E(Rayan Zachariassen <rayan@cs.toronto.edu>)108 247.2 Q
(Extensi)108 259.2 Q .3 -.15(ve m)-.25 H(odi\214cations by:).15 E
(Matti Aarnio <mea@nic.funet.\214>)108 271.2 Q 2.5(8A)283.225 768 S
(pr 1998)-2.5 E(4)206.225 E EP
%%Trailer
end
%%EOF
